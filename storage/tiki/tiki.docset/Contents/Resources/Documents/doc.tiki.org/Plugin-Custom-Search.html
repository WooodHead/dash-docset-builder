<!DOCTYPE html>
<html lang="en" id="page_4328"><!-- Online page at http://doc.tiki.org/PluginCustomSearch -->
<head>
	
<!--Latest IE Compatibility-->
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Tiki Wiki CMS Groupware - https://tiki.org">

<meta content="http://doc.tiki.org/" name="twitter:domain"> 


			<link rel="canonical" href="Plugin-Custom-Search.html">
		<meta content="http://doc.tiki.org/PluginCustomSearch" property="og:url">
	
	<meta name="keywords" content="documentation, tiki, tikiwiki, document, help, install, wiki syntax  ">
	<meta name="author" content="Tiki Community">

		<meta name="description" content="Tiki Wiki CMS Groupware Official Documentation" property="og:description">
	<meta name="twitter:description" content="Tiki Wiki CMS Groupware Official Documentation">
	<meta name="revisit-after" content="15 days">

<meta content="Documentation for Tiki Wiki CMS Groupware" property="og:site_name">
<meta content="Documentation for Tiki Wiki CMS Groupware" name="twitter:site">



<title>PluginCustomSearch | Documentation for Tiki Wiki CMS Groupware</title>


<meta property="og:title" content="PluginCustomSearch | Documentation for Tiki Wiki CMS Groupware">

<meta name="twitter:title" content="PluginCustomSearch | Documentation for Tiki Wiki CMS Groupware">

			<meta content="website" property="og:type">
	

<meta name="twitter:card" content="summary">

						

	<link rel="alternate" type="application/rss+xml" title="Tiki RSS feed for the wiki pages" href="http://doc.tiki.org/tiki-wiki_rss.php?ver=2">
	<link rel="alternate" type="application/rss+xml" title="Tiki RSS feed for articles" href="http://doc.tiki.org/tiki-articles_rss.php?ver=2">
	<link rel="alternate" type="application/rss+xml" title="Tiki RSS feed for image galleries" href="http://doc.tiki.org/tiki-image_galleries_rss.php?ver=2">
	<link rel="alternate" type="application/rss+xml" title="Tiki RSS feed for file galleries" href="http://doc.tiki.org/tiki-file_galleries_rss.php?ver=2">
	<!--[if lt IE 9]>
	<script src="vendor_bundled/vendor/afarkas/html5shiv/dist/html5shiv.min.js" type="text/javascript"></script>
<![endif]-->
		
<meta name="msapplication-config" content="themes/base_files/favicons/browserconfig.xml">

<link rel="icon" href="themes/base_files/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="apple-touch-icon" href="themes/base_files/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="themes/base_files/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="manifest" href="themes/base_files/favicons/site.webmanifest.html">
<link rel="shortcut icon" href="themes/base_files/favicons/favicon.ico">
<link rel="mask-icon" href="themes/base_files/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="stylesheet" href="temp/public/codemirror_modes.css" type="text/css">
<link rel="stylesheet" href="themes/base_files/css/tiki_base.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/bower-asset/fontawesome/css/all.css" type="text/css">
<link rel="stylesheet" href="themes/fivealive-lite/css/fivealive-lite.css" type="text/css">
<link rel="stylesheet" href="themes/fivealive-lite/options/kiwi/css/kiwi.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/studio-42/elfinder/css/elfinder.full.css" type="text/css">
<link rel="stylesheet" href="lib/openlayers/theme/default/style.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/codemirror/codemirror/lib/codemirror.css" type="text/css">
<link rel="stylesheet" href="themes/base_files/feature_css/codemirror_tiki.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/components/jqueryui/themes/flick/jquery-ui.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/jquery/jquery-timepicker-addon/dist/jquery-ui-timepicker-addon.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/jquery-plugins/colorbox/example1/colorbox.css" type="text/css">
<link rel="stylesheet" href="vendor_bundled/vendor/jquery-plugins/treetable/css/jquery.treetable.css" type="text/css">
<link rel="stylesheet" href="themes/base_files/feature_css/svg-edit-draw.css" type="text/css">
<style type="text/css"><!--
/* css 0 */
@media (min-width: 1200px) { .container { max-width:1240px; } }

.img_zoom {
	display:inline-block;
}
.img_zoom:after {
	content:"";
	display:block;
	width:33px;
	height:33px;
	position:absolute;
	top:0;
	right:0;
	background:url(vendor_bundled/vendor/jquery-plugins/zoom/icon.png);
}
.img_zoom img {
	display:block;
}

.ui-autocomplete-loading { background: white url("img/spinner.gif") right center no-repeat; }
div#outerToc {
	top: 31px;
}
.sitelogo {
	line-height: 46px; /* same as .sitetitle */
}
.navbar-fixed-top .sitelogo a img, .layout_fixed_top_modules #top_modules .sitelogo a img {
	margin-right: 0;
	margin-top: 0;
}

@media (max-width:991px) {
  .navbar-brand {
    font-size: 12px; 
    width: 65%;
    overflow-x: hidden;
    white-space: nowrap;
    text-overflow: "&hellip;"; }
  }

.ui-autocomplete-loading { background: white url("img/spinner.gif") right center no-repeat; }

.wikitext .card {
    margin-bottom: 1rem;
}

#module_75 .card-body,
#module_25 .card-body { /* keywords module for Tiki 13 (jb) */
    height: 20em;
    overflow-y: scroll;
    overflow-x: hidden;
}

#module_75 .card-body .nav > li > a { padding: 0 15px; }

/* Display first paragraph of wiki pages as a leading text */
#page-data > p:first-of-type, .wikipreview .wikitext > p:first-of-type {
    font-size: 120%;
    padding: 2rem;
    background: #f0f0f0;
    border-radius: .5rem;
    box-shadow: rgba(50, 50, 50, .15) 0 3rem 3rem -2rem inset, rgba(50, 50, 50, 0.1) 0 -1rem 2rem -1rem inset;
}
#page-data > p:first-of-type > br:first-of-type, .wikipreview .wikitext > p:first-of-type > br:first-of-type {
    display: none;
}

#page-data a {
	font-weight: bold;
}

@-ms-viewport{
	width: auto!important;
}

/* Reduce page-top vertical whitespace */
#alternate_register_link_because_InterTiki > br,
#doc-dev-crosslinks > br { display: none; }

/* Responsive Youtube videos - video wrapper class */
.video-wrapper {
     position: relative;
     padding-bottom: 56.25%;
     padding-top: 10px;
     overflow: hidden;
 }
 .video-wrapper iframe {
     position: absolute;
     width: 100%;
     height: 100%;
     top: 0;
     left: 0;
 }

/* End Responsive Youtube videos - video wrapper class */

/* test to make dropdowns visible in mobile views */
.tiki .navbar-collapse.in { overflow-y: visible; }

/* Fix bad contrast- check and fix in stylesheet - GC-L 8/18 */
.tiki-edit_structure .structure-container .ui-state-default { background: inherit; }

footer.help-block {  border-top: 1px solid #737373; padding: .7em 0; margin-bottom: 1.2em; }

/* Added for Tiki 19 - will move to stylesheet if it's a general fix/improvement. */
#bottom_modules .row { width: 100%; max-width: 100%; }
#bottom_modules .icon-link-external { display: none; } 
#bottom_modules h4 { font-size: 1.2rem; }
#bottom_modules ul { list-style: none; padding-left: 0; }

textarea, .CodeMirror {
    font-family: monospace !important;
}

/* Added by Bsfez for the Video Tutorials pages */

.row .videoTutorials {
  margin-bottom: 1em;
  border-bottom: 1px solid #ccc
}

.videoTitle h5 a.heading-link {display:none}
/*
.videoLevel-Beginner,
.videoLevel-Intermediate,
.videoLevel-PowerUser,
.videoLevel-Developer,
.videoRole,
.videoTitle a.wiki.external,
.videoTag {
  font-size: small
}*/

.videoLevel-Beginner {color: #117485}
.videoLevel-Intermediate {color: #a59705}
.videoLevel-PowerUser {color: #a53723}
.videoLevel-Developer {color: #a51e37}
.videoRole {color: #888}

.videoTitle h5 {margin-bottom:0.1em}
.videoTitle p {margin-bottom:0.2em}

.videoTitle a.wiki.external,
.videoTitle a:hover.wiki.external {
  word-break: normal;
  letter-spacing: -0.05em;
}

.videoTitle a.wiki.external:before,
.videoTitle a.wiki.external:after,
.videoTitle a:hover.wiki.external:before,
.videoTitle a:hover.wiki.external:after
{display: none}

.videoTitle a:hover.wiki.external {padding-left:0}

.videoDescription {
  overflow: hidden;
  position: relative; 
  line-height: 1.2em;
  max-height: 6em; 
  text-align: justify;
}

/* END - Added by Bsfez for the Video Tutorials pages */

/* Added by Bsfez for the tooh joinus message */
#mod-menutopbar1 > nav > div > ul > li:nth-child(8) > a {
  font-weight: bold;
  margin-left: 6em;
  color: rgb(255, 248, 33);}
/* END Added by Bsfez for the tooh joinus message */

/* Make input labels inline on "Video-Tutorials" */
.videoresourceTikiExperienceLevel input+br, .videoresourceTikiUserGroupRole input+br {display: none; }

/* Limit height of video transcript */
.transcript-container { max-height: 300px; overflow-y: auto; }

/* temp fix - Gary */
.tiki .col-lg-9 {
    flex-basis: 75%;
}

/* was: liquid layout to display all of wide table */
#page_5154 .field259 { width: 280px; } 
/*#page_5154 .tiki .container {width: 100%; max-width: 100%; }
#page_5154 .tiki #col1 .table-responsive {overflow: visible; width: inherit; border-right-color: transparent;}
#page_5154 .tiki #col1 .table-responsive > .table { width: 1200px; }*/

.modal-dialog {
    width: 80%; /* responsive width */
}

@media (min-width: 1200px) { .container { width:1240px; max-width:1240px;} }
.affix {top:44px;}
-->
</style>
	<style type="text/css">#sitelogo img {margin-top: 0; position: relative; top: -12px;}</style>

<link rel="stylesheet" href="../themes.tiki.org/tiki-index_raw.php%3Fpage=Tiki_org_family_customizations_CSS&amp;clean&amp;textonly&amp;download&amp;css.css" type="text/css">

<link rel="stylesheet" href="../themes.tiki.org/tiki-index_raw.php%3Fpage=Tiki_org_family_headers_fix_CSS&amp;clean&amp;textonly&amp;download&amp;css.css" type="text/css">

<meta name="google-site-verification" content="OKHyWtoBAnRUctKvFQmKl2x1cAPGnHf8y_h8zUu-aeo">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<style type="text/css">
	
	/* Prevent target anchors from being covered by fixed top navbar */
	h1:target:before,
	h2:target:before,
	h3:target:before,
	h4:target:before,
	h5:target:before,
	h6:target:before {
		content: "";
		display: block;
		height: 44px; /* fixed header height*/
		margin: -44px 0 0; /* negative fixed header height */
	}
	</style></head>
<body class="tiki tiki-index tiki_wiki_page fixed_width layout_social en hide_zone_left" style="padding-top: 0;">
	

	



	

			<div id="ajaxLoading">Loading...</div>
<div id="ajaxLoadingBG"> </div>
<div id="ajaxDebug"></div>
		<div class="middle_outer" id="middle_outer">
					<div class="fixed-topbar"></div>
				<div class="container container-std middle" id="middle">
						
						

			<div class="row row-middle" id="row-middle">
															
									<div class="d-flex flex-row flex-wrap w-100">
					<div class="col col1 col-md-12 col-lg-9 order-md-1 order-lg-2 pb-4" id="col1">
													
												

<div id="tikifeedback">
	</div>

						
			
<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
					<div class="wikiinfo float-left">
				
				
				Create a custom search form for searching or listing items on the site

											</div>
		 
					<div class="wikiinfo float-left" id="pdfinfo" style="display:none">
				<div class="alert alert-info" style="width:500px"><h4><span class="icon icon-information fas fa-info-circle fa-fw "></span> <span class="rboxtitle">Please wait</span></h4><div class="rboxcontent" style="display: inline"><span class="fas fa-circle-notch fa-spin" style="font-size:24px"></span> The PDF is being prepared, please wait...</div></div>
			</div>
			</div> 
</div> 

	
	
						
												
		
	
						
						
			
	
				
	
				
	<article id="top" class="wikitext clearfix nopagetitle" style="padding-top: 44px;">
					
			
							

			
												 

		
		<div id="page-data" class="clearfix">
										<a name="//apple_ref/cpp/Section/Top" class="dashAnchor"></a><h1 class="showhide_heading" id="Plugin_CustomSearch"> <span class="icon icon-search fas fa-search "></span> Plugin CustomSearch<a href="Plugin-Custom-Search.html#Plugin_CustomSearch" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h1>
<p>See also <a href="PluginList-with-editable-filters.html" title="PluginList with editable filters" class="wiki wiki_page">PluginList with editable filters</a>
</p>
<div class="lead">This <a href="http://doc.tiki.org/wiki%20plugin" title="" class="wiki wiki_page">wiki plugin</a> is available from <a href="http://doc.tiki.org/Tiki8" title="Tiki8" class="wiki wiki_page">Tiki8</a> for the purpose of creating custom user interfaces to search for objects within Tiki. This plugin makes use of the functionality of <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a> to show the results of the search. This plugin is intended for rather advanced customization and you will need to have a good understanding of <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a> as well as <a href="http://doc.tiki.org/Unified-Index" title="Unified Index" class="wiki wiki_page">Unified Index</a> and good knowledge of HTML, CSS, and Smarty in order to make good use of it.</div>
<p>
</p>
<div class="card bg-light"><div class="card-body"><strong>What happens when the wheel spins forever?</strong>
<p>That is likely the sign of an AJAX failure.
</p>
If you use the Firefox Firebug plugin in the HTML Response you should be able to see what the AJAX responds with.</div></div>
<a id="parameters" name="//apple_ref/cpp/Section/Parameters" class="dashAnchor"></a><h2 class="showhide_heading" id="Parameters"> Parameters<a href="Plugin-Custom-Search.html#Parameters" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<em>Introduced in Tiki 8.</em><br><em>Preferences required:</em> wikiplugin_customsearch, wikiplugin_list, feature_search<br><div class="table-responsive"><table class="table table-striped table-hover">
	<tr class="heading">
		<th class="heading">Parameters
		</th><th class="heading">Accepted Values</th>
		<th class="heading">Description</th>
		<th class="heading">Default</th>
		<th class="heading">Since</th>
	</tr>
	<tr>
		<td>(body of plugin)</td>
		<td></td>
		<td>LIST plugin configuration information</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td><code>tpl</code></td>
		<td></td>
		<td>Smarty template (.tpl) file where search user interface template is found</td>
		<td></td>
		<td>12.2</td>
	</tr>
	<tr>
		<td><code>callbackscript</code></td>
		<td>pagename</td>
		<td>The wiki page on which custom JavaScript is to be executed on return of Ajax results</td>
		<td></td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>destdiv</code></td>
		<td>text</td>
		<td>The id of an existing div to contain the search results</td>
		<td></td>
		<td>9.0</td>
	</tr>
	<tr>
		<td><code>searchfadediv</code></td>
		<td>text</td>
		<td>The specific ID of the specific div to fade out when AJAX search is in progress,
					if not set will attempt to fade the whole area or if failing simply show the spinner</td>
		<td></td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>autosearchdelay</code></td>
		<td>digits</td>
		<td>Delay in milliseconds before automatically triggering search after change
					(<code>0</code> disables and is the default)</td>
		<td>0</td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>id</code></td>
		<td>alnum</td>
		<td>A unique identifier to distinguish custom searches for storing of previous search
					criteria entered by users</td>
		<td>0</td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>forcesortmode</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Force the use of specified sort mode in place of search relevance even when there is a text search query</td>
		<td>1</td>
		<td>13.0</td>
	</tr>
	<tr>
		<td><code>recalllastsearch</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>In the same session, return users to same search parameters on coming back to the
					search page after leaving</td>
		<td>0</td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>requireinput</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Require first input field to be filled for search to trigger</td>
		<td>0</td>
		<td>12.0</td>
	</tr>
	<tr>
		<td><code>searchonload</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Execute the search when the page loads (default: Yes)</td>
		<td>1</td>
		<td>9.0</td>
	</tr>
	<tr>
		<td><code>searchable_only</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Only include results marked as searchable in the index.</td>
		<td>1</td>
		<td>14.1</td>
	</tr>
	<tr>
		<td><code>wiki</code></td>
		<td>pagename</td>
		<td>Wiki page where search user interface template is found</td>
		<td></td>
		<td>8.0</td>
	</tr>
	<tr>
		<td><code>trimlinefeeds</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Remove the linefeeds added after each input which casues the wiki parser to add extra paragraphs.</td>
		<td>0</td>
		<td>14.1</td>
	</tr>
	<tr>
		<td><code>customsearchjs</code></td>
		<td>(blank)<br>0<br>1</td>
		<td>Mainly keeps the search state on the URL hash, but also adds some helper functions like easier sorting and page size.</td>
		<td>0</td>
		<td>14.1</td>
	</tr></table></div>
<p>
</p>
<a id="basic-usage" name="//apple_ref/cpp/Section/Basic%20Usage" class="dashAnchor"></a><h2 class="showhide_heading" id="Basic_Usage"> Basic Usage<a href="Plugin-Custom-Search.html#Basic_Usage" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p>You need two wiki pages, one for the search interface itself, and the other for the template to be used at the interface. From Tiki 13 onwards, it is possible to specify a <code>.tpl</code> file on disk instead of a wiki page for the second wiki page.
</p>

<h3 class="showhide_heading" id="Create_Wiki_page_1_entitled:_Custom_Search_">1.1.1.  Create Wiki page 1, entitled: "<strong>Custom Search</strong>"<a href="Plugin-Custom-Search.html#Create_Wiki_page_1_entitled:_Custom_Search_" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox1">{CUSTOMSEARCH(wiki="Custom Search Tpl")}
  {list max="10"}
  {filter field="tracker_id" content="1"}
  {OUTPUT()}
    {display name="title" format="objectlink"}
  {OUTPUT}
{CUSTOMSEARCH}</pre>
<p>
</p>
<div class="codecaption">Tiki 12.2 onwards, .tpl version</div><pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox2">{CUSTOMSEARCH(tpl="CustomSearchTpl.tpl")}
  {list max="10"}
  {filter field="tracker_id" content="1"}
  {OUTPUT()}
    {display name="title" format="objectlink"}
  {OUTPUT}
{CUSTOMSEARCH}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Create_Wiki_page_2_entitled:_Custom_Search_Tpl_">1.1.2.  Create Wiki page 2, entitled: "<strong>Custom Search Tpl</strong>"<a href="Plugin-Custom-Search.html#Create_Wiki_page_2_entitled:_Custom_Search_Tpl_" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<div class="codecaption">In Tiki 12</div><pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox3">{literal}
	  Any text: {input _filter="content" type="text"}
	  {input type="Submit" value="Search"}
	{/literal}</pre>
<p>
</p>
<div class="codecaption">In Tiki 15+</div><pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox4">{literal}
	  &lt;div class="col-sm-2"&gt;Any text:&lt;/div&gt;&lt;div class="col-sm-10"&gt;{input _filter="content" type="text" class="form-control"}&lt;/div&gt;
	  &lt;div class="col-sm-10 col-sm-push-2"&gt;{input type="Submit" value="Search" class="btn btn-primary"}&lt;/div&gt;
	{/literal}</pre>
<p>
<br>In case you want to limit the search to content found just on a single tracker field, you need to use the tracker field unique name to refer to that field (for instance in this example: <code>my_permanent_name</code>). This is because by default since <a href="http://doc.tiki.org/Tiki8" title="Tiki8" class="wiki wiki_page">Tiki8</a>, unified search uses the permanent names for tracker field names instead of field IDs. Therefore, you could change this line:
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox5">Any text: {input _filter="content" type="text" }</pre>
<p>
<br>for this other one  with _field as <code>tracker_field_ + my_permanent_name</code> instead:
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox6">Any text: {input _filter="content" type="text" _field="tracker_field_my_permanent_name"}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Grant_permission_to_the_tpl_page">1.1.3.  Grant permission to the tpl page<a href="Plugin-Custom-Search.html#Grant_permission_to_the_tpl_page" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>You need to grant permissions to the tpl page "<strong>Custom Search Tpl</strong>" to be used as a tracker template (or a template for unified search) by anonymous or registered users (or the group of your choice). Click on permissions for that page, and change permissions accordingly. Remember to restrict edit permissions to only admin users since then to that page.
</p>

<h3 class="showhide_heading" id="Enable_unified_search">1.1.4.  Enable unified search<a href="Plugin-Custom-Search.html#Enable_unified_search" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Ensure that you have <strong>Unified search</strong> enabled, under "<strong>Control Panels &gt; Search</strong>".
</p>

<h3 class="showhide_heading" id="Rebuild_search_index">1.1.5.  Rebuild search index<a href="Plugin-Custom-Search.html#Rebuild_search_index" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Rebuild your search index after you have created some content in tracker 1, so that this content can be found by the search engine through the search index.
</p>

<h3 class="showhide_heading" id="Use_your_custom_search_interface">1.1.6.  Use your custom search interface<a href="Plugin-Custom-Search.html#Use_your_custom_search_interface" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Go to page 1 to use your new custom search interface.
</p>

<p>Notes:
</p>
<ul><li> Assuming you have a tracker with id 1 with some items, that should work.
</li><li> In fact if you remove the line
<br> <pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox7">{filter field="tracker_id" content="1"}</pre>
</li><li> it will work as a search over all your content. In fact just this line on it's own in a page will work!
<br> <pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox8">{customsearch wiki="Custom Search Tpl"}</pre>
</li></ul><p>
</p>
<h3 class="showhide_heading" id="Working_Custom_Search_Example"> Working Custom Search Example<a href="Plugin-Custom-Search.html#Working_Custom_Search_Example" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>For a working example showing many of these features see this <a href="http://doc.tiki.org/Custom-Search-Example" title="Custom Search Example" class="wiki wiki_page">Custom Search Example</a> page.
</p>
<a id="more-advanced-usage" name="//apple_ref/cpp/Section/More%20advanced%C2%A0usage" class="dashAnchor"></a><h2 class="showhide_heading" id="More_advanced_usage"> More advanced usage<a href="Plugin-Custom-Search.html#More_advanced_usage" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p>Wiki syntax:
</p>
<div class="codecaption">Custom Search</div><pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox9">{CUSTOMSEARCH(wiki="Search-tpl" id="mysearch")}
    {output template="/var/www/html/templates/my-custom-searchresults.tpl" pagination="y"}
    &lt;put whatever base filters and formatting things that you would do in the LIST plugin here&gt;
{CUSTOMSEARCH}</pre>
<p>
<br>Note that the pagination="y" is generally required so that you have the ability to paginate across multiple pages of search results. (There is a more advanced way of specifying the pagination manually within Smarty templates explained below).
</p>

<p>Base filters are filters that you want applied regardless of what search parameters the user chooses in the search form.
</p>

<p>See <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a> for more information about filters and formatting of output.
</p>

<a id="creating-your-search-interface" name="//apple_ref/cpp/Section/Creating%20your%20search%C2%A0interface" class="dashAnchor"></a><h2 class="showhide_heading" id="Creating_your_search_interface">Creating your search interface<a href="Plugin-Custom-Search.html#Creating_your_search_interface" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<h3 class="showhide_heading" id="Creating_the_wiki_page">Creating the wiki page<a href="Plugin-Custom-Search.html#Creating_the_wiki_page" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>You will need to create a template to be placed in the wiki page mentioned above. In this wiki page, you need to surround the contents with smarty literal tags so that the contents don't get parsed as Smarty tags.
</p>

<pre class="codelisting" data-theme="off" data-syntax="smarty" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox10">{literal}
&lt;contents of template&gt;
{/literal}</pre>
<p>
<br>In addition, if you want to use HTML in your template, you can use <a href="PluginHTML.html" title="Add HTML to a page" class="wiki wiki_page">PluginHTML</a>:
</p>

<pre class="codelisting" data-theme="off" data-syntax="smarty" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox11">{literal}
{HTML()}
&lt;contents of template&gt;
{HTML}
{/literal}</pre>
<p>
</p>
<div class="card bg-light"><div class="card-body">It is important to make sure that this page has <a href="http://doc.tiki.org/Permissions" title="Permissions" class="wiki wiki_page">Permissions</a> set so that it cannot be edited by non-admins</div></div>
<h3 class="showhide_heading" id="Creating_form_elements">Creating form elements<a href="Plugin-Custom-Search.html#Creating_form_elements" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Creating form elements are similar to creating standard HTML form elements, combined with using the filter parameters found in <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a>. Specify each element using plugin syntax. If you want to use a standard HTML supported attribute, simply use it and it will appear in the resulting HTML. All internal attributes that are meant for the LIST plugin to generate the search results should start with an underscore (_), so that they don't end up in the HTML (which would be invalid). For example, if you want to create a text search field that searches for the content entered:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox12">{input _filter="content" type="text"}</pre>
<p>
<br>You can add any HTML supported attributes if you want, for e.g.:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox13">{input _filter="content" type="text" class="mysearchbox"}</pre>
<p>
<br>If you want to specify a specific field/fields to search in as described in <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a>, for example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox14">{input _filter="content" _field="tracker_field_20" type="text" class="mysearchbox"}
{input _filter="content" _field="tracker_field_28,tracker_field_22" type="text"}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Drop_down_with_or_without_multiselect_example:"> Drop down (with or without multiselect) example:<a href="Plugin-Custom-Search.html#Drop_down_with_or_without_multiselect_example:" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>Note how you can specify labels different from the values if you want
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox15">{select _filter="content" _options="1980,1981,1982" _field="tracker_field_104" multiple="multiple"}
{select _filter="content" _field="tracker_field_104" _options="1980,1981,1982" _labels="eighty,eighty-one,eighty-two"}</pre>
<p>You can also set a default item to be selected using the <code>_default</code> element. To avoid the blank option from appearing, use the _mandatory attribute.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox16">{select _filter="content" _options="1980,1981,1982" _field="tracker_field_104" multiple="multiple" _default="1980"}
{select _filter="content" _options="1980,1981,1982" _field="tracker_field_104" multiple="multiple" _mandatory="y" _default="1980"}</pre>
<p>From Tiki 14.1 onwards custom search will automatically populate the drop-down menu for ItemLink, UserSelector and Text tracker field inputs. You need to specify the <code>_field</code> and <code>_trackerId</code> params only (to be backported to 13 &amp; 12 when tested)
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox17">{select _field="tracker_field_myFieldPermName" _trackerId="42"}</pre>
<p>From Tiki 19.0 <em>(and 18.3)</em> you can use the _operator attribute to override the site-wide preference for default boolean operator for multiple select fields.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox18">{select _filter="content" _options="o,p,c" _labels="Open,Pending,Closed" _field="tracker_status" _operator="or" class="form-control" multiple="multiple" id="status"}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Checkbox_example:"> Checkbox example:<a href="Plugin-Custom-Search.html#Checkbox_example:" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>The most important thing to keep in mind about checkboxes is that they cannot take a normal "value" parameter like in HTML. Instead, use the <code>_value</code> (with underscore) parameter if you want to set a value. If you do not set a value, the values searched for will by default be <code>y</code> (if checked) or <code>NOT y</code> (if not checked). If you want the checkbox to be checked by default, specify <code>_default="y"</code> . For example.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox19">{input _filter="content" _default="y" _field="tracker_field_58" type="checkbox"}</pre>
<p>If you want the checkbox to behave in reverse, i.e. search for <code>NOT y</code> when it is checked and y when it is not checked, specify --+value="n"+- .
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox20">{input _filter="content" _field="tracker_field_58" _value="n" type="checkbox"}</pre>
<p>If you want the checkbox to mean that you want to search for whatever term you want when checked, set <code>_value</code> to something arbitrary, for example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox21">{input _filter="content" _field="tracker_field_58" _value="tiki" type="checkbox"}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Radio_button_example:"> Radio button example:<a href="Plugin-Custom-Search.html#Radio_button_example:" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>The most important thing to remember about radio buttons is that they need a <code>_group</code> attribute. This <code>_group</code> attribute determines which radio buttons are together as a group. For example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox22">Version: {input _filter="content" type="radio" _field="tracker_field_20" _value="7" _group="20"} Tiki 7 {input type="radio" _filter="content" _field="tracker_field_20" _value="8" _group="20"} Tiki 8</pre>
<p>
</p>
<h4 class="showhide_heading" id="Categories_example:"> Categories example:<a href="Plugin-Custom-Search.html#Categories_example:" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>In general, if there are just a few categories to search by, you can use radio buttons or checkboxes (in the following example 24 is the category ID you want to search for when the checkbox is checked):
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox23">{input _filter="categories" type="checkbox" _value="24"}</pre>
<p>If you want the category search to not only search the specified category but also all of its sub-categories, specify the <code>_deep</code> attribute:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox24">{input _filter="categories" type="checkbox" _deep="y" _value="24"}</pre>
<p>In addition, to facilitate creating category selection elements for many categories, there is a special way to quickly show multiple checkboxes/radio buttons or a drop-down for multiple categories based on a parent category.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox25">{categories _parent="10" _style="checkbox" _group="10"}
{categories _parent="22" _style="radio" _group="12"}
{categories _parent="30" _style="select" _group="12"}
{categories _parent="30" _style="select" multiple="multiple"}
{categories _parent="30" _style="select" _categpath="y" _showdeep="y"}</pre>
<p>Note that if you are specifying a <code>_style</code> of <code>checkbox</code> or <code>radio</code>, <code>_group</code> is mandatory.
</p>

<p>Other parameters include <code>_categpath</code> which shows the full category path category labels instead of just the category name, and <code>_showdeep</code> which shows not just the immediate children of the parent category specified but all the sub-children as well.
</p>

<p>When specifying <code>multiple="multiple"</code> there is not first blank item, you can force a blank or labelled item (has no value) by using the attribute <code>_firstlabel</code>.
</p>
<h3 class="showhide_heading" id="Adding_a_submit_button"> Adding a submit button<a href="Plugin-Custom-Search.html#Adding_a_submit_button" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox26">{input type="submit"}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Grouping_elements_together_for_the_purpose_of_OR_searching_instead_of_AND"> Grouping elements together for the purpose of OR searching instead of AND<a href="Plugin-Custom-Search.html#Grouping_elements_together_for_the_purpose_of_OR_searching_instead_of_AND" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>It has already been mentioned above that Radio buttons as well as categories (those using a <code>_style</code> attribute of checkbox and radio) need to use the <code>_group</code> attribute mandatory.
</p>

<p>However, it is possible to use the <code>_group</code> attribute for other types of fields as well, if you want them to be searched using OR logic instead of AND which is how different filters are combined. So long as the filters you are trying to group together are <strong>exactly the same except for the search term</strong>, they can be grouped. For example, the following searches for either "apples" or "oranges" if both checkboxes are checked:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox27">{input _filter="content" type="checkbox" _value="apples" _group="15"} Apples
{input _filter="content" type="checkbox" _value="oranges" _group="15"} Oranges</pre>
<p>
</p>
<h3 class="showhide_heading" id="Range_searches"> Range searches<a href="Plugin-Custom-Search.html#Range_searches" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<div class="card bg-light"><div class="card-body">Before you start, please be informed that the Unified search is a string based search. In other words, if you are trying to search between 2 numbers, make sure all your numbers are of the same number of digits. Otherwise 2 will be larger than 12. The only way to get around this for now is to make sure all numbers are entered in a padded form, for example, 0012 for 12.
<p>
</p>
However, from <a href="http://doc.tiki.org/Tiki14" title="Tiki14" class="wiki wiki_page">Tiki14</a> if you are using <a href="http://doc.tiki.org/Elasticsearch" title="Elasticsearch" class="wiki wiki_page">Elasticsearch</a> as the unified search engine, then numeric tracker fields are indexed internally as float and therefore will provide for correct range searches for those fields, even without padding.</div></div>
<p>
<br>The way to generate a search for a value between two values is to use the <code>_daterange</code> attribute to group the 2 items that you want to search in between together. The following example searches a tracker field that contains all 4-digit years.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox28">Show content between {select _filter="content" _field="tracker_field_104" _options="2000,2001,2002,2003,2004,2005" _textrange="1"} and {select _filter="content" _field="tracker_field_104" _options="2000,2001,2002,2003,2004,2005" _textrange="1"}</pre>
<p>The following example is an interesting twist, where you automatically set one end of the range through a hidden field.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox29">Show only content after {select _filter="content" _field="tracker_field_104" _default="2000" _mandatory="y" _options="2000,2005,2010" _textrange="2"}{input _filter="content" _field="tracker_field_104" type="hidden" value="9999" _textrange="2"}</pre>
<p>To do a range search on things like modification dates, which are "unix timestamps indexed as dates", use <code>_daterange</code> instead of <code>_textrange</code>. This will ensure than the comparison is correct despite the string based search since these timestamps are indexed in YYYYMMDDHHMMSS format.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox30">Show content modified between {select _filter="content" _field="modification_date" _options="946684800,1104537600,1262304000" _labels="2000,2005,2010" _daterange="1"} and {select _filter="content" _field="modification_date" _options="946684800,1104537600,1262304000" _labels="2000,2005,2010" _daterange="1"}</pre>
<h4 class="showhide_heading" id="Date_Range_Picker">Date Range Picker<a href="Plugin-Custom-Search.html#Date_Range_Picker" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>In Tiki 9 there is also a date range picker you can use like this:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox31">{daterange _field="modification_date" _from="1104537600" _to="1262304000" _showtime="y"}
{daterange _field="modification_date" _from="1104537600" _gap="31536000"}</pre>
<p>You can also use "now" as a date. It will give you the current time/date.
</p>

<p>Since Tiki 18.2 you can use English date format based on strtotime PHP function syntax: <a target="_blank" class="wiki" href="https://secure.php.net/manual/en/function.strtotime.php.">https://secure.php.net/manual/en/function.strtotime.php.</a>
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox32">{daterange _field="modification_date" _gap="2 weeks" _to="next week" }
{daterange _field="modification_date" _gap="1 month" _to="now" }</pre>
<p>
<br>You need to set a default filter in the customsearch as follows so that the user is not confused when first arriving at the page.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox33">{filter range="modification_date" from="1104537600" to="1262304000"}
{filter range="modification_date" from="now" gap="31536000"}</pre>
<p>
<br>Since Tiki 18.3 the end date uses the end of the day, as opposed to midnight at the beginning of that day. This is generally agreed to be more intuitive, but if you need to revert to the previous behaviour add a parameter <code>_toendofday="n"</code>. For instance this will find nothing:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox34">{daterange _field="modification_date" _from="today" _to="today" _toendofday="n"}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Single-ended_range_searches">Single-ended range searches<a href="Plugin-Custom-Search.html#Single-ended_range_searches" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>Before <a href="http://doc.tiki.org/Tiki14" title="Tiki14" class="wiki wiki_page">Tiki14</a>, the user must enter both ends of the filter for the range search for the search to have any effect. Therefore it is important to make sure the user selects a value, or a <code>_default</code> is set.
</p>

<p>From <a href="http://doc.tiki.org/Tiki14" title="Tiki14" class="wiki wiki_page">Tiki14</a> it is possible allow for doing range searches with user only specifying one end of the range and the other end left blank but still having default value. For example, the following code will generate 2 form fields for searching the tracker field duration.  If the user keeps the first one blank and enters 20 in the second field, it will search for the range 0 to 20. If the user enters 50 in the first field but leaves the second field blank, then the range searched for is 50 to 9999. Note that in each of the fields, <code>_emptyto</code> OR <code>_emptyfrom</code> must be used TOGETHER WITH <code>_emptyother</code> for this to work. If you leave out <code>_emptyother</code>, unpredictable results can occur because browsers may not submit empty form fields (and so this is the only way to get the information on the other range endpoint if it's not filled in).
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox35">{input class="form-control" type="number" placeholder="Min" _filter="content" _field="tracker_field_duration" _emptyfrom="0" _emptyother="9999" _textrange="1"} - {input class="form-control" type="number" placeholder="Max" _filter="content" _field="tracker_field_duration" _emptyto="9999" _emptyother="0" _textrange="1"}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Distance_Searches"> Distance Searches<a href="Plugin-Custom-Search.html#Distance_Searches" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p><em>Since Tiki 16</em>
<br>This should be considered unfinished and somewhat experimental but basically works with some customisation. The three inputs are:
</p>
<ul><li> distance: Use a number and a unit, e.g. 1000m for one thousand metres
</li><li> latitiude: A floating point number up between -90 and +90
</li><li> longitude: A floating point number up between -180 and +180
</li></ul><pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox36">{DIV(class="row")}{distance class="form-control col-sm-4"}{DIV}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Setting_default_search_parameters_when_first_coming_to_the_page"> Setting default search parameters when first coming to the page<a href="Plugin-Custom-Search.html#Setting_default_search_parameters_when_first_coming_to_the_page" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>As already mentioned above, you can use the <code>_default</code> parameter on specific fields. However, in some cases you are coming from another page where you want to pass some input from there via the query string. To do this you can pass in the query string, for example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox37">tiki-index.php?page=Search&amp;default[field]=value</pre>
<p>The "field" here is the same as what you have in the <code>_field</code> attribute in your search template.
</p>

<p>You can have several search parameters in the url using &amp;.
<br>You may also use an item link/list value (in the example below tracker_field_kind is item link) in some case.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox38">tiki-index.php?page=Search&amp;default[field]=value&amp;default[field]=value
e.g. tiki-index.php?page=Search&amp;default[tracker_field_month]=October&amp;default[tracker_field_kind]=644</pre>
<p>
<br>If you have categories filters defined, you can set the defaults as follows:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox39">tiki-index.php?page=Search&amp;defaultcat[parent]=value
e.g. tiki-index.php?page=Search&amp;defaultcat[5]=2,7</pre>
<p>
<br>The Smarty syntax is valid and can be used to solve more complex case.
</p>

<p>In the following we use the Smarty syntax to use a real date to filter results by month following:
<br><a target="_blank" class="wiki" href="https://www.smarty.net/docs/en/language.modifier.date.format.tpl">https://www.smarty.net/docs/en/language.modifier.date.format.tpl</a>
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox40">tiki-index.php?page=Search&amp;default[field]={smarty}
e.g. tiki-index.php?page=Serch&amp;default[tracker_field_month]={'this month'|date_format:"%B"}</pre>
<p>
<br>
<br>Note that if you are having problems using square brackets within link syntax in a wiki page, you may want to urlencode the square brackets, for example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox41">[tiki-index.php?page=Search&amp;defaultcat%5b7%5d=3]</pre>
<p>
</p>
<h3 class="showhide_heading" id="Advanced_adding_of_jquery_javascript_on_AJAX_loading_of_results">Advanced adding of jquery/javascript on AJAX loading of results<a href="Plugin-Custom-Search.html#Advanced_adding_of_jquery_javascript_on_AJAX_loading_of_results" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>This is relevant only if you are implementing an advanced template for <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a> used in conjunction with Custom Search, and it contains jquery/javascript that affects the search results.
</p>

<p>Because in IE prior to version 9 it is not possible (due to crappy DOM handling) to deliver jquery/javascript that affect the content of the AJAX response together with the AJAX response, instead of including such scripts in the template for <a href="Plugin-List.html" title="Search for, list, and filter all types of items and display custom formatted results" class="wiki wiki_page">PluginList</a>, you will need to include such scripts as follows:
</p>

<p>Create a wiki page as follows, enclosing your javascript/jquery, and specify the wiki page name as the <code>callbackscript</code> parameter to the CUSTOMSEARCH plugin.
</p>
<pre class="codelisting" data-theme="default" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox42">{JQ()}
    $(document).on("pageSearchReady", function() {

		doYourStuff();

       return true;
    });
{JQ}</pre>
<div class="card bg-light"><div class="card-body">It is important to make sure that this page has <a href="http://doc.tiki.org/Permissions" title="Permissions" class="wiki wiki_page">Permissions</a> set so that it cannot be edited by non-admins</div></div>
<p>
</p>
<h4 class="showhide_heading" id="Example_excerpt"> Example excerpt<a href="Plugin-Custom-Search.html#Example_excerpt" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>
</p>
<h5 class="showhide_heading" id="Wiki_page_to_display_results_of_custom_search">1.1.1.1.1.  Wiki page to display results of custom search<a href="Plugin-Custom-Search.html#Wiki_page_to_display_results_of_custom_search" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h5>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox43">{CUSTOMSEARCH(wiki="My Custom Search Tpl" recalllastsearch="0" searchonload="1" requireinput="0" searchable_only="1" customsearchjs="1" callbackscript="shortenDescriptions")}

(the filters and output of the custom search as usual)

{CUSTOMSEARCH}</pre>
<p>
</p>
<h5 class="showhide_heading" id="Contents_of_My_Custom_Search_Tpl_">1.1.1.1.2.  Contents of "My Custom Search Tpl"<a href="Plugin-Custom-Search.html#Contents_of_My_Custom_Search_Tpl_" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h5>
<p>The page "My Custom Search Tpl" has this type of code:
</p>
<pre class="codelisting" data-theme="off" data-syntax="htmlmixed" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox44">&lt;div id="courseOverview"&gt;{$row.courseDescription|truncate:30:"...":false}&lt;/div&gt; &lt;a  class="readMore" &gt;Read more&lt;/a&gt;
&lt;div id="courseOverviewFull" style="display: none"&gt;{$row.courseDescription}&lt;/div&gt; &lt;a  class="readLess" style="display: none"&gt;Read less&lt;/a&gt;</pre>
<p>
<br>
<br>
</p>
<h5 class="showhide_heading" id="Contents_of_shortenDescriptions_callbackscript_">1.1.1.1.3.  Contents of "shortenDescriptions" (callbackscript)<a href="Plugin-Custom-Search.html#Contents_of_shortenDescriptions_callbackscript_" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h5>
<p>The page shortenDescriptions:
</p>

<pre class="codelisting" data-theme="default" data-syntax="javascript" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox45">{JQ()}
    $(document).on("pageSearchReady", function() {

        //using the .readMore class as a selector for the click event over it.
        $('.readMore').click(function(){ 
            $('#courseOverview').toggle();
            $('#courseOverviewFull').show();
            $('.readLess').show();
            $('.readMore').hide();
        });
        $('.readLess').click(function(){ 
            $('#courseOverview').toggle();
            $('#courseOverviewFull').hide();
            $('.readLess').hide();
            $('.readMore').show();
        });

       return true;
    });
{JQ}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Advanced_Pagination_in_Smarty_Template">Advanced Pagination in Smarty Template<a href="Plugin-Custom-Search.html#Advanced_Pagination_in_Smarty_Template" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>Advanced pagination not using pagination="y" but instead directly creating the pagination within the Smarty template, by specifying the customsearch ID manually as follows:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox46">{assign var='customsearchid' value="xyz"}
{pagination_links offset_jsvar="customsearch_`$customsearchid`.offset" _onclick="$('#customsearch_`$customsearchid`').submit();return false;" resultset=$results}{/pagination_links}</pre>
<p>
</p>
<a id="setting-maxrecords-sort-mode-and-offset" name="//apple_ref/cpp/Section/Setting%20maxRecords%2C%20sort_mode%2C%20and%C2%A0offset" class="dashAnchor"></a><h2 class="showhide_heading" id="Setting_maxRecords_sort_mode_and_offset"> Setting maxRecords, sort_mode, and offset<a href="Plugin-Custom-Search.html#Setting_maxRecords_sort_mode_and_offset" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<h3 class="showhide_heading" id="Overriding_defaults_that_apply_on_arriving_at_search_page">Overriding defaults that apply on arriving at search page<a href="Plugin-Custom-Search.html#Overriding_defaults_that_apply_on_arriving_at_search_page" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>The defaults can be overridden by passing into the query string these variables. For example, if you want the number of search results to show to be set to 10, you can do:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox47">http://yoursite.tiki.org/tiki-index.php?page=MySearch&amp;maxRecords=10
(or with SEFURL on) http://yoursite.tiki.org/MySearch?maxRecords=10</pre>
<p>
<br>For sort_mode, you can also set it inside your search template. Please be warned that sorting is based on string. if you are trying to sort by numbers, make sure all your numbers are of the same number of digits. Otherwise 2 will be larger than 12. The only way to get around this for now is to make sure all numbers are entered in a padded form, for example, 0012 for 12.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox48">{sort mode="tracker_field_18_desc"}</pre>
<p>
</p>
<h3 class="showhide_heading" id="Changing_the_settings_after_arriving_at_the_search_page">Changing the settings after arriving at the search page<a href="Plugin-Custom-Search.html#Changing_the_settings_after_arriving_at_the_search_page" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>You will need a little Jquery/javascript for this. It is possible to set the javascript variables "customsearch_&lt;id&gt;.maxRecords", "customsearch_&lt;id&gt;.sort_mode", "customsearch_&lt;id&gt;.offset" programmatically and then resubmit the form by calling the submit() event handler on the form using the jquery. For example:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox49">( "#datesort" ).click(function()
    customsearch_&lt;id&gt;.sort_mode = "modification_date_desc" ;
    $('#customsearch_&lt;id&gt;').submit();
    return false;
});</pre>
<p>
</p>
<a id="customizing-the-interface-with-css" name="//apple_ref/cpp/Section/Customizing%20the%20interface%20with%C2%A0CSS" class="dashAnchor"></a><h2 class="showhide_heading" id="Customizing_the_interface_with_CSS">Customizing the interface with CSS<a href="Plugin-Custom-Search.html#Customizing_the_interface_with_CSS" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p>The final step is to customize the search interface with CSS. The search results is in a DIV with the ID <code>customsearch_&lt;id&gt;_form</code>. The search form is in a DIV with the ID <code>customsearch_&lt;id&gt;_results</code> Because you can assign your own CSS classes to each of the form elements above, you can customize it anyway you like.
</p>

<a id="using-facets" name="//apple_ref/cpp/Section/Using%20Facets" class="dashAnchor"></a><h2 class="showhide_heading" id="Using_Facets">Using Facets<a href="Plugin-Custom-Search.html#Using_Facets" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p>Facets are dynamic search filters provided by the search engines. They allow to refine the user's search. Not all search engines support this feature. At this time, it is only supported by the <a href="http://doc.tiki.org/Elasticsearch" title="Elasticsearch" class="wiki wiki_page">Elasticsearch</a> implementation.
</p>

<p>Using facets with CustomSearch requires that hidden fields be added to the search form. These fields will be filled as the user selects filters. To simplify binding, make sure you set the ID explicitly.
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox50">{input _filter="content" type="hidden" _field="object_type" id="my_object_filter"}
{input _filter="content" type="hidden" _field="deep_categories" id="my_deep_categories"}</pre>
<p>
<br>The CustomSearch plugin must then define which facet it wishes to obtain. When configuring the facets, you get to choose how to handle multiple selection. By default, OR filters will be used.
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox51">{CUSTOMSEARCH()}
  ...
  {facet name=object_type operator=or}
  {facet name=deep_categories operator=and}
  ...
{CUSTOMSEARCH}</pre>
<p>
<br>Then, you need to modify the results template to display the facets selector tools (see the sample below)
</p>

<h3 class="showhide_heading" id="Facets_from_Categories"> Facets from Categories<a href="Plugin-Custom-Search.html#Facets_from_Categories" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>To use categories as facet generators, go to the search control panel, and on the "search results" tab add the top category or categories you will need to the "Generate custom facets from categories" preference, apply that and rebuild the search index.
</p>

<p>Add the hidden fields to your search form as above, but using this special format for the id: <code>deep_categories_under_XXX</code> replacing the XXX with the top category id
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox52">{input _filter="content" type="hidden" _field="tracker_field_types" id="deep_categories_under_28"}
{input _filter="content" type="hidden" _field="tracker_field_styles"  id="deep_categories_under_42"}</pre>
<p>and then add the facet commands to your custom search page like this:
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox53">{CUSTOMSEARCH()}
  ...
  {facet name="deep_categories_under_28"}
  {facet name="deep_categories_under_42"}
  ...
{CUSTOMSEARCH}</pre>
<p>
<br>Then, you need to modify the results template to display the facets selector tools (see the sample below)
</p>

<p>
</p>
<h3 class="showhide_heading" id="Facet_Parameters"> Facet Parameters<a href="Plugin-Custom-Search.html#Facet_Parameters" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<h4 class="showhide_heading" id="Operator"> Operator<a href="Plugin-Custom-Search.html#Operator" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>Sets the input above to use "AND" or "OR" (default is "OR")
</p>

<h4 class="showhide_heading" id="Count"> Count<a href="Plugin-Custom-Search.html#Count" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p><em>Since 12.4</em>
<br>You can specify the maximum number of facets returned. This defaults to 10, but can be changed globally using the "Facet result count" preference on the search results control panel, or per facet in the plugin like this:
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox54">{CUSTOMSEARCH()}
  ...
  {facet name=deep_categories operator=or count=50}
  ...
{CUSTOMSEARCH}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Order"> Order<a href="Plugin-Custom-Search.html#Order" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p><em>Since 20.1</em>
<br>Sets the order the facets are returned in the results, use either <code>_count</code> (default) or <code>_term</code> for ES5 (or <code>_key</code> for ES6+). Append <code>_asc</code> or <code>_desc</code> for ascending and descending.
</p>

<p>Useful for charts where you need to set the colours according to the order the facets/aggregations are returned.
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox55">{CUSTOMSEARCH()}
  ...
  {facet name="tracker_status" order="_term_asc"}
  ...
{CUSTOMSEARCH}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Min"> Min<a href="Plugin-Custom-Search.html#Min" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p><em>Since 20.1</em>
<br>Set the min_doc_count - useful for displaying empty aggregations
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox56">{CUSTOMSEARCH()}
  ...
  {facet name=deep_categories min="0"}
  ...
{CUSTOMSEARCH}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Date_Based_Facets"> Date Based Facets<a href="Plugin-Custom-Search.html#Date_Based_Facets" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p><em>Since 20.1</em>
</p>
<h5 class="showhide_heading" id="Ranges"> Ranges<a href="Plugin-Custom-Search.html#Ranges" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h5>
<p>Used for <code>type=date_range</code> each range is separated by a pipe | character, and within that use commas to separate <code>from</code>,-+to+-,-+label+-
<br>More info on date formats accepted <a class="wiki external" target="_blank" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.6/search-aggregations-bucket-daterange-aggregation.html#date-format-pattern" rel="external">here on elastic.co</a>
</p>

<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox57">{CUSTOMSEARCH()}
  ...
  {facet name="date" type="date_range" id="date_range" ranges="2018-01-01,2018-04-01,2018 Q1|2018-04-01,2018-07-01,2018 Q2|2018-07-01,2018-10-01,2018 Q3|2018-10-01,2019-01-01,2018 Q4"}
  ...
{CUSTOMSEARCH}</pre>
<p>
</p>
<h4 class="showhide_heading" id="Interval"> Interval<a href="Plugin-Custom-Search.html#Interval" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h4>
<p>For <code>type=date_histogram</code> (more info <a class="wiki external" target="_blank" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.6/search-aggregations-bucket-datehistogram-aggregation.html" rel="external">here</a>)
</p>

<p>
</p>
<pre class="codelisting" data-theme="off" data-syntax="tiki" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox58">{CUSTOMSEARCH()}
  ...
  {facet name="date" type="date_histogram" id="date_histogram" interval="year"}
  ...
{CUSTOMSEARCH}</pre>
<h3 class="showhide_heading" id="Facets_selector_tools_in_your_results_template"> Facets selector tools in your results template<a href="Plugin-Custom-Search.html#Facets_selector_tools_in_your_results_template" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Finally, you need to modify the results template. The <code>$facets</code> variable is available and contains all the facets returned by the search engine. It is important to verify that the results have been provided.
</p>
<div class="codecaption">Test the facets array is populated properly</div><pre class="codelisting" data-theme="off" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox59">{$facets|var_dump}</pre>
<p>
<br>In this example, Chosen is used to render the facet elements nicely and each change to a facet causes the results to reload. The registerFacet() jQuery function binds the select element to the hidden field annotated by <code>data-for</code>.
</p>

<pre class="codelisting" data-theme="off" data-syntax="smarty" data-wrap="1" dir="ltr" style="white-space:pre-wrap; overflow-wrap: break-word; word-wrap: break-word;" id="codebox60">&lt;div&gt;
    &lt;div class="facets"&gt;
        {if $facets.deep_categories}
            &lt;h6&gt;{$facets.deep_categories.label|escape}&lt;/h6&gt;
            &lt;select multiple name="{$facets.deep_categories.name|escape}" data-for="#my_deep_categories" data-join="{$facets.deep_categories.operator|escape}"&gt;
                {foreach from=$facets.deep_categories.options key=value item=label}
                    &lt;option value="{$value|escape}"&gt;{$label|escape}&lt;/option&gt;
                {/foreach}
            &lt;/select&gt;
        {/if}
        {if $facets.object_type}
            &lt;h6&gt;{$facet.label|escape}&lt;/h6&gt;
            &lt;select multiple name="{$facets.object_type.name|escape}" data-for="#my_object_filter" data-join="{$facets.object_type.operator|escape}"&gt;
                {foreach from=$facets.object_type.options key=value item=label}
                    &lt;option value="{$value|escape}"&gt;{$label|escape}&lt;/option&gt;
                {/foreach}
            &lt;/select&gt;
        {/if}
    &lt;/div&gt;
    &lt;div style="float: left; width: 66%;"&gt;
        &lt;ul&gt;
            {foreach from=$results item=row}
                &lt;li&gt;{object_link type=$row.object_type id=$row.object_id} {$row.highlight|escape}&lt;/li&gt;
            {/foreach}
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
{jq}
    $.applyChosen();
    $('.facets select').registerFacet();
    $('.facets select').change(function () {
        $('#customsearch_0').submit();
    }); 
{/jq}</pre>
<h3 class="showhide_heading" id="Generating_Charts_from_Facets"> Generating Charts from Facets<a href="Plugin-Custom-Search.html#Generating_Charts_from_Facets" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h3>
<p>Since Tiki 19 (r68500) example templates can be found in <code>templates/examples/search/</code>.
<br>Some examples of this can be found on <a href="PluginCustomSearch-Chart-Examples.html" title="PluginCustomSearch Chart Examples" class="wiki wiki_page">PluginCustomSearch Chart Examples</a>
</p>

<a id="related-profiles" name="//apple_ref/cpp/Section/Related%20profiles" class="dashAnchor"></a><h2 class="showhide_heading" id="Related_profiles"> Related profiles<a href="Plugin-Custom-Search.html#Related_profiles" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p><strong>Shopping Cart profile</strong>
<br>The <a target="_blank" class="wiki" href="https://profiles.tiki.org/Shopping_Cart">https://profiles.tiki.org/Shopping_Cart</a> profile sets up a more complicated custom search using smarty templates etc.
</p>

<p>Feel free to apply it to your tiki site and learn how it work, adapt it to your own needs, etc.
</p>
<a id="aliases" name="//apple_ref/cpp/Section/Aliases" class="dashAnchor"></a><h2 class="showhide_heading" id="Aliases">Aliases<a href="Plugin-Custom-Search.html#Aliases" class="heading-link"><span class="icon icon-link fas fa-link "></span></a></h2>
<p><a href="http://doc.tiki.org/Custom-search" class="wiki wiki_page alias">Custom search</a> | <a href="Plugin-Custom-Search.html" class="wiki wiki_page alias">Plugin Custom Search</a> | <a href="http://doc.tiki.org/CustomSearch" class="wiki wiki_page alias">CustomSearch</a>
</p>

					</div>

		
			</article> 

	
	<footer class="form-text">
		
					<div class="wiki-authors">
<hr>
	Created by <a title="User:Nelson Ko" href="http://doc.tiki.org/user10116" class="userlink tips">Nelson Ko</a>.
	Last Modification: Sunday 24 May, 2020 10:33:59 GMT-0000 by <a title="User:Roberto Kirschbaum" href="http://doc.tiki.org/user12372" class="userlink tips">Roberto Kirschbaum</a>.
	
	</div>		
		
			</footer>

		
							
		
	
			
	
	

<a id="attachments"></a>

	<div id="attzone" class="w-100" style="display:block;">

	

	
	

	</div>
<div id="comment-container"></div>
			
													<div class="content clearfix modules mt-3" id="pagebottom_modules">
	




			<div id="module_91" style="" class="module box-related_video">
				<div id="mod-related_videopagebottom1">
										
<div id="related_video" style="display:block;">
</div>

													
					</div>
</div>

	



			<div id="module_92" style="" class="module box-menupage">
				<div id="mod-menupagepagebottom2">
													

		
													
					</div>
</div>


</div>
											</div>
					
				</div>
				
			</div> 
		</div> 
	</div> 
			

		
	
	

<div id="bootstrap-modal" class="modal fade footer-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
			<div class="modal-header">
				<h4 class="modal-title" id="myModalLabel"></h4>
			</div>
		</div>
	</div>
</div>
<div id="bootstrap-modal-2" class="modal fade footer-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
		</div>
	</div>
</div>
<div id="bootstrap-modal-3" class="modal fade footer-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
		</div>
	</div>
</div>
				
	


	<!-- Global site tag (gtag.js) - Google Analytics -->


<!-- Put JS at the end -->
	
	
<script type="text/javascript" src="vendor_bundled/vendor/components/jquery/jquery.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/components/jquery-migrate/jquery-migrate.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/codemirror/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/components/jqueryui/jquery-ui.js"></script>
<script type="text/javascript" src="temp/public/codemirror_modes.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/npm-asset/popper.js/dist/umd/popper.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/twbs/bootstrap/dist/js/bootstrap.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-bootstrapmodalfix.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/iconsets.js"></script>
<script type="text/javascript" src="lib/tiki-js.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/studio-42/elfinder/js/elfinder.full.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/elfinder/tiki-elfinder.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-jquery.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-maps.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/jquery-json/src/jquery.json.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/zoom/jquery.zoom.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/codemirror/codemirror/addon/search/searchcursor.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/codemirror/codemirror/addon/mode/overlay.js"></script>
<script type="text/javascript" src="lib/codemirror_tiki/codemirror_tiki.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/infinitecarousel/jquery.infinitecarousel3.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-confirm.js"></script>

<script type="text/javascript" src="vendor_bundled/vendor/harvesthq/chosen/chosen.jquery.min.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery/jquery-timepicker-addon/dist/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/fitvidjs/jquery.fitvids.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/superfish/dist/js/superfish.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/superfish/dist/js/supersubs.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/superfish/dist/js/hoverIntent.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/reflection-jquery/js/reflection.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/media/jquery.media.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/jquery.tablesorter.combined.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/parsers/parser-input-select.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-columnSelector.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-filter-formatter-jui.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-grouping.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-math.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-pager.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mottie/tablesorter/js/widgets/widget-sort2Hash.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tablesorter.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/tagcanvas/jquery.tagcanvas.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/colorbox/jquery.colorbox.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/bower-asset/swfobject/swfobject/swfobject.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/rmm5t/jquery-timeago/jquery.timeago.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/rmm5t/jquery-timeago/locales/jquery.timeago.en.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/avianey/jqdoublescroll/jquery.doubleScroll.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/jquery-validation/dist/jquery.validate.js"></script>
<script type="text/javascript" src="lib/validators/validator_tiki.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/async/jquery.async.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/jquery-plugins/treetable/jquery.treetable.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/cwspear/bootstrap-hover-dropdown/bootstrap-hover-dropdown.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/files.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-trackers.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/svg-edit/svg-edit/embedapi.js"></script>
<script type="text/javascript" src="lib/svg-edit_tiki/draw.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/inline_edit.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/tiki-tasks.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/pluginedit.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/pdf.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/npm-asset/html2canvas/dist/html2canvas.min.js"></script>
<script type="text/javascript" src="vendor_bundled/vendor/mrrio/jspdf/jspdf.min.js"></script>
<script type="text/javascript" src="lib/jquery_tiki/fullcalendar_to_pdf.js"></script>
<script type="text/javascript" src="lang/en/language.js"></script>
<script type="text/javascript" src="lib/captcha/captchalib.js"></script>

	
<script type="text/javascript">
<!--//--><![CDATA[//><!--
// js 0 
tiki_cookie_jar=new Object();
setCookieBrowser('javascript_enabled', '1621939082000', '', new Date(1621939082000));
$.lang = 'en';

// JS Object to hold prefs for jq
var jqueryTiki = {"ui":true,"ui_theme":"flick","tooltips":true,"autocomplete":true,"superfish":true,"reflection":true,"tablesorter":true,"colorbox":true,"cboxCurrent":"{current} / {total}","sheet":true,"carousel":true,"validate":true,"zoom":true,"effect":"","effect_direction":"vertical","effect_speed":"400","effect_tabs":"none","effect_tabs_direction":"vertical","effect_tabs_speed":"fast","home_file_gallery":"5","autosave":true,"sefurl":true,"ajax":true,"syntaxHighlighter":true,"chosen":true,"chosen_sortable":false,"mapTileSets":["openstreetmap"],"infoboxTypes":["trackeritem","activity"],"googleStreetView":false,"googleStreetViewOverlay":false,"googleMapsAPIKey":"ABQIAAAAQNyVqGjgbUkeBZjVGN43nBQm7qDLuUr6PD9lu03O3Na4Jgp-xBTEdlCs9LWoI9vHWo2xg50eOgmWKw","structurePageRepeat":false,"mobile":false,"no_cookie":false,"language":"en","useInlineComment":false,"useInlineAnnotations":false,"helpurl":"http://doc.tiki.org/","shortDateFormat":"yy-mm-dd","shortTimeFormat":"HH:mm","username":null,"userRealName":null,"userAvatar":"http://doc.tiki.org/img/noavatar.png?v=1581008146","autoToc_inline":false,"autoToc_pos":"right","autoToc_offset":"44","bingMapsAPIKey":"","nextzenAPIKey":"","numericFieldScroll":"none","securityTimeout":"1440","current_object":{"type":"wiki page","object":"PluginCustomSearch"},"firstDayofWeek":0}

jqueryTiki.iconset = {"defaults":["500px","accessible-icon","accusoft","ad","address-book","address-card","adjust","adn","adversal","affiliatetheme","air-freshener","algolia","align-center","align-justify","align-left","align-right","alipay","allergies","amazon","amazon-pay","ambulance","american-sign-language-interpreting","amilia","anchor","android","angellist","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","angry","angrycreative","angular","ankh","app-store","app-store-ios","apper","apple","apple-alt","apple-pay","archive","archway","arrow-alt-circle-down","arrow-alt-circle-left","arrow-alt-circle-right","arrow-alt-circle-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows-alt","arrows-alt-h","arrows-alt-v","assistive-listening-systems","asterisk","asymmetrik","at","atlas","atom","audible","audio-description","autoprefixer","avianex","aviato","award","aws","backspace","backward","balance-scale","ban","band-aid","bandcamp","barcode","bars","baseball-ball","basketball-ball","bath","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","behance","behance-square","bell","bell-slash","bezier-curve","bible","bicycle","bimobject","binoculars","birthday-cake","bitbucket","bitcoin","bity","black-tie","blackberry","blender","blind","blogger","blogger-b","bluetooth","bluetooth-b","bold","bolt","bomb","bone","bong","book","book-open","book-reader","bookmark","bowling-ball","box","box-open","boxes","braille","brain","briefcase","briefcase-medical","broadcast-tower","broom","brush","btc","bug","building","bullhorn","bullseye","burn","buromobelexperte","bus","bus-alt","business-time","buysellads","calculator","calendar","calendar-alt","calendar-check","calendar-minus","calendar-plus","calendar-times","camera","camera-retro","cannabis","capsules","car","car-alt","car-battery","car-crash","car-side","caret-down","caret-left","caret-right","caret-square-down","caret-square-left","caret-square-right","caret-square-up","caret-up","cart-arrow-down","cart-plus","cc-amazon-pay","cc-amex","cc-apple-pay","cc-diners-club","cc-discover","cc-jcb","cc-mastercard","cc-paypal","cc-stripe","cc-visa","centercode","certificate","chalkboard","chalkboard-teacher","charging-station","chart-area","chart-bar","chart-line","chart-pie","check","check-circle","check-double","check-square","chess","chess-bishop","chess-board","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","chrome","church","circle","circle-notch","city","clipboard","clipboard-check","clipboard-list","clock","clone","closed-captioning","cloud","cloud-download-alt","cloud-upload-alt","cloudscale","cloudsmith","cloudversify","cocktail","code","code-branch","codepen","codiepie","coffee","cog","cogs","coins","columns","comment","comment-alt","comment-dollar","comment-dots","comment-slash","comments","comments-dollar","compact-disc","compass","compress","concierge-bell","connectdevelop","contao","cookie","cookie-bite","copy","copyright","couch","cpanel","creative-commons","creative-commons-by","creative-commons-nc","creative-commons-nc-eu","creative-commons-nc-jp","creative-commons-nd","creative-commons-pd","creative-commons-pd-alt","creative-commons-remix","creative-commons-sa","creative-commons-sampling","creative-commons-sampling-plus","creative-commons-share","credit-card","crop","crop-alt","cross","crosshairs","crow","crown","css3","css3-alt","cube","cubes","cut","cuttlefish","d-and-d","dashcube","database","deaf","delicious","deploydog","deskpro","desktop","deviantart","dharmachakra","diagnoses","dice","dice-five","dice-four","dice-one","dice-six","dice-three","dice-two","digg","digital-ocean","digital-tachograph","directions","discord","discourse","divide","dizzy","dna","dochub","docker","dollar-sign","dolly","dolly-flatbed","donate","door-closed","door-open","dot-circle","dove","download","draft2digital","drafting-compass","draw-polygon","dribbble","dribbble-square","dropbox","drum","drum-steelpan","drupal","dumbbell","dyalog","earlybirds","ebay","edge","edit","eject","elementor","ellipsis-h","ellipsis-v","ello","ember","empire","envelope","envelope-open","envelope-open-text","envelope-square","envira","equals","eraser","erlang","ethereum","etsy","euro-sign","exchange-alt","exclamation","exclamation-circle","exclamation-triangle","expand","expand-arrows-alt","expeditedssl","external-link-alt","external-link-square-alt","eye","eye-dropper","eye-slash","facebook","facebook-f","facebook-messenger","facebook-square","fast-backward","fast-forward","fax","feather","feather-alt","female","fighter-jet","file","file-alt","file-archive","file-audio","file-code","file-contract","file-download","file-excel","file-export","file-image","file-import","file-invoice","file-invoice-dollar","file-medical","file-medical-alt","file-pdf","file-powerpoint","file-prescription","file-signature","file-upload","file-video","file-word","fill","fill-drip","film","filter","fingerprint","fire","fire-extinguisher","firefox","first-aid","first-order","first-order-alt","firstdraft","fish","flag","flag-checkered","flask","flickr","flipboard","flushed","fly","folder","folder-minus","folder-open","folder-plus","font","font-awesome","font-awesome-alt","font-awesome-flag","fonticons","fonticons-fi","football-ball","fort-awesome","fort-awesome-alt","forumbee","forward","foursquare","free-code-camp","freebsd","frog","frown","frown-open","fulcrum","funnel-dollar","futbol","galactic-republic","galactic-senate","gamepad","gas-pump","gavel","gem","genderless","get-pocket","gg","gg-circle","ghost","gift","gifts","git","git-square","github","github-alt","github-square","gitkraken","gitlab","gitter","glass-cheers","glass-martini","glass-martini-alt","glass-whiskey","glasses","glide","glide-g","globe","globe-africa","globe-americas","globe-asia","globe-europe","gofore","golf-ball","goodreads","goodreads-g","google","google-drive","google-play","google-plus","google-plus-g","google-plus-square","google-wallet","gopuram","graduation-cap","gratipay","grav","greater-than","greater-than-equal","grimace","grin","grin-alt","grin-beam","grin-beam-sweat","grin-hearts","grin-squint","grin-squint-tears","grin-stars","grin-tears","grin-tongue","grin-tongue-squint","grin-tongue-wink","grin-wink","grip-horizontal","grip-lines","grip-lines-vertical","grip-vertical","gripfire","grunt","guitar","gulp","h-square","hacker-news","hacker-news-square","hackerrank","hammer","hamsa","hand-holding","hand-holding-heart","hand-holding-usd","hand-lizard","hand-paper","hand-peace","hand-point-down","hand-point-left","hand-point-right","hand-point-up","hand-pointer","hand-rock","hand-scissors","hand-spock","hands","hands-helping","handshake","hanukiah","hashtag","hat-wizard","haykal","hdd","heading","headphones","headphones-alt","headset","heart","heart-broken","heartbeat","helicopter","highlighter","hiking","hippo","hips","hire-a-helper","history","hockey-puck","holly-berry","home","hooli","hornbill","horse","horse-head","hospital","hospital-alt","hospital-symbol","hot-tub","hotel","hotjar","hourglass","hourglass-end","hourglass-half","hourglass-start","house-damage","houzz","hryvnia","html5","hubspot","i-cursor","id-badge","id-card","id-card-alt","image","images","imdb","inbox","indent","industry","infinity","info","info-circle","instagram","internet-explorer","ioxhost","italic","itunes","itunes-note","java","jedi","jedi-order","jenkins","joget","joint","joomla","journal-whills","js","js-square","jsfiddle","kaaba","kaggle","key","keybase","keyboard","keycdn","khanda","kickstarter","kickstarter-k","kiss","kiss-beam","kiss-wink-heart","kiwi-bird","korvue","landmark","language","laptop","laptop-code","laravel","lastfm","lastfm-square","laugh","laugh-beam","laugh-squint","laugh-wink","layer-group","leaf","leanpub","lemon","less","less-than","less-than-equal","level-down-alt","level-up-alt","life-ring","lightbulb","line","link","linkedin","linkedin-in","linode","linux","lira-sign","list","list-alt","list-ol","list-ul","location-arrow","lock","lock-open","long-arrow-alt-down","long-arrow-alt-left","long-arrow-alt-right","long-arrow-alt-up","low-vision","luggage-cart","lyft","magento","magic","magnet","mail-bulk","mailchimp","male","mandalorian","map","map-marked","map-marked-alt","map-marker","map-marker-alt","map-pin","map-signs","markdown","marker","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mastodon","maxcdn","medal","medapps","medium","medium-m","medkit","medrt","meetup","megaport","meh","meh-blank","meh-rolling-eyes","memory","menorah","mercury","microchip","microphone","microphone-alt","microphone-alt-slash","microphone-slash","microscope","microsoft","minus","minus-circle","minus-square","mix","mixcloud","mizuni","mobile","mobile-alt","modx","monero","money-bill","money-bill-alt","money-bill-wave","money-bill-wave-alt","money-check","money-check-alt","monument","moon","mortar-pestle","mosque","motorcycle","mouse-pointer","music","napster","neos","neuter","newspaper","nimblr","nintendo-switch","node","node-js","not-equal","notes-medical","npm","ns8","nutritionix","object-group","object-ungroup","odnoklassniki","odnoklassniki-square","oil-can","old-republic","om","opencart","openid","opera","optin-monster","osi","outdent","page4","pagelines","paint-brush","paint-roller","palette","palfed","pallet","paper-plane","paperclip","parachute-box","paragraph","parking","passport","pastafarianism","paste","patreon","pause","pause-circle","paw","paypal","peace","pen","pen-alt","pen-fancy","pen-nib","pen-square","pencil-alt","pencil-ruler","people-carry","percent","percentage","periscope","phabricator","phoenix-framework","phoenix-squadron","phone","phone-slash","phone-square","phone-volume","php","pied-piper","pied-piper-alt","pied-piper-hat","pied-piper-pp","piggy-bank","pills","pinterest","pinterest-p","pinterest-square","place-of-worship","plane","plane-arrival","plane-departure","play","play-circle","playstation","plug","plus","plus-circle","plus-square","podcast","poll","poll-h","poo","poop","portrait","pound-sign","power-off","pray","praying-hands","prescription","prescription-bottle","prescription-bottle-alt","print","procedures","product-hunt","project-diagram","pushed","puzzle-piece","python","qq","qrcode","question","question-circle","quidditch","quinscape","quora","quote-left","quote-right","quran","r-project","radiation","radiation-alt","rainbow","random","raspberry-pi","ravelry","react","reacteurope","readme","rebel","receipt","recycle","red-river","reddit","reddit-alien","reddit-square","redhat","redo","redo-alt","registered","renren","reply","reply-all","replyd","republican","researchgate","resolving","restroom","retweet","rev","ribbon","ring","road","robot","rocket","rocketchat","rockrms","route","rss","rss-square","ruble-sign","ruler","ruler-combined","ruler-horizontal","ruler-vertical","running","rupee-sign","sad-cry","sad-tear","safari","sass","save","schlix","school","screwdriver","scribd","search","search-dollar","search-location","search-minus","search-plus","searchengin","seedling","sellcast","sellsy","server","servicestack","shapes","share","share-alt","share-alt-square","share-square","shekel-sign","shield-alt","ship","shipping-fast","shirtsinbulk","shoe-prints","shopping-bag","shopping-basket","shopping-cart","shopware","shower","shuttle-van","sign","sign-in-alt","sign-language","sign-out-alt","signal","signature","simplybuilt","sistrix","sitemap","sith","skull","skyatlas","skype","slack","slack-hash","sliders-h","slideshare","smile","smile-beam","smile-wink","smoking","smoking-ban","snapchat","snapchat-ghost","snapchat-square","snowflake","socks","solar-panel","sort","sort-alpha-down","sort-alpha-up","sort-amount-down","sort-amount-up","sort-down","sort-numeric-down","sort-numeric-up","sort-up","soundcloud","spa","space-shuttle","speakap","spinner","splotch","spotify","spray-can","square","square-full","square-root-alt","squarespace","stack-exchange","stack-overflow","stamp","star","star-and-crescent","star-half","star-half-alt","star-of-david","star-of-life","staylinked","steam","steam-square","steam-symbol","step-backward","step-forward","stethoscope","sticker-mule","sticky-note","stop","stop-circle","stopwatch","store","store-alt","strava","stream","street-view","strikethrough","stripe","stripe-s","stroopwafel","studiovinari","stumbleupon","stumbleupon-circle","subscript","subway","suitcase","suitcase-rolling","sun","superpowers","superscript","supple","surprise","swatchbook","swimmer","swimming-pool","synagogue","sync","sync-alt","syringe","table","table-tennis","tablet","tablet-alt","tablets","tachometer-alt","tag","tags","tape","tasks","taxi","teamspeak","teeth","teeth-open","telegram","telegram-plane","tencent-weibo","terminal","text-height","text-width","th","th-large","th-list","the-red-yeti","theater-masks","themeco","themeisle","thermometer","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","thumbs-down","thumbs-up","thumbtack","ticket-alt","times","times-circle","tint","tint-slash","tired","toggle-off","toggle-on","toolbox","tooth","torah","torii-gate","trade-federation","trademark","traffic-light","train","transgender","transgender-alt","trash","trash-alt","tree","trello","tripadvisor","trophy","truck","truck-loading","truck-monster","truck-moving","truck-pickup","tshirt","tty","tumblr","tumblr-square","tv","twitch","twitter","twitter-square","typo3","uber","uikit","umbrella","umbrella-beach","underline","undo","undo-alt","uniregistry","universal-access","university","unlink","unlock","unlock-alt","untappd","upload","usb","user","user-alt","user-alt-slash","user-astronaut","user-check","user-circle","user-clock","user-cog","user-edit","user-friends","user-graduate","user-lock","user-md","user-minus","user-ninja","user-plus","user-secret","user-shield","user-slash","user-tag","user-tie","user-times","users","users-cog","ussunnah","utensil-spoon","utensils","vaadin","vector-square","venus","venus-double","venus-mars","viacoin","viadeo","viadeo-square","vial","vials","viber","video","video-slash","vihara","vimeo","vimeo-square","vimeo-v","vine","vk","vnv","volleyball-ball","volume-down","volume-mute","volume-off","volume-up","vote-yea","vr-cardboard","vuejs","walking","wallet","warehouse","water","weebly","weibo","weight","weight-hanging","weixin","whatsapp","whatsapp-square","wheelchair","whmcs","wifi","wikipedia-w","wind","window-close","window-maximize","window-minimize","window-restore","windows","wine-bottle","wine-glass","wine-glass-alt","wix","wizards-of-the-coast","wolf-pack-battalion","won-sign","wordpress","wordpress-simple","wpbeginner","wpexplorer","wpforms","wpressr","wrench","x-ray","xbox","xing","xing-square","y-combinator","yahoo","yandex","yandex-international","yelp","yen-sign","yin-yang","yoast","youtube","youtube-square","zhihu"],"icons":{"actions":{"id":"play-circle"},"admin":{"id":"cog"},"add":{"id":"plus-circle"},"admin_ads":{"id":"film"},"admin_articles":{"id":"newspaper","prepend":"far fa-"},"admin_blogs":{"id":"bold"},"admin_calendar":{"id":"calendar-alt","prepend":"far fa-"},"admin_category":{"id":"sitemap fa-rotate-270"},"admin_comments":{"id":"comment"},"admin_community":{"id":"users"},"admin_connect":{"id":"link"},"admin_copyright":{"id":"copyright","prepend":"far fa-"},"admin_directory":{"id":"folder","prepend":"far fa-"},"admin_faqs":{"id":"question"},"admin_features":{"id":"power-off"},"admin_fgal":{"id":"folder-open"},"admin_forums":{"id":"comments"},"admin_freetags":{"id":"tags"},"admin_gal":{"id":"file-image","prepend":"far fa-"},"admin_general":{"id":"cog"},"admin_i18n":{"id":"language"},"admin_intertiki":{"id":"exchange-alt"},"admin_login":{"id":"sign-in-alt"},"admin_user":{"id":"user"},"admin_look":{"id":"image","prepend":"far fa-"},"admin_maps":{"id":"map-marker-alt"},"admin_messages":{"id":"envelope","prepend":"far fa-"},"admin_metatags":{"id":"tag"},"admin_module":{"id":"shapes"},"admin_payment":{"id":"credit-card","prepend":"far fa-"},"admin_performance":{"id":"tachometer-alt"},"admin_polls":{"id":"tasks"},"admin_profiles":{"id":"cube"},"admin_rating":{"id":"check-square"},"admin_rss":{"id":"rss"},"admin_score":{"id":"trophy"},"admin_search":{"id":"search"},"admin_semantic":{"id":"arrows-alt-h"},"admin_security":{"id":"lock"},"admin_sefurl":{"id":"search-plus"},"admin_share":{"id":"share-alt"},"admin_socialnetworks":{"id":"thumbs-up"},"admin_stats":{"id":"chart-bar","prepend":"far fa-"},"admin_textarea":{"id":"edit"},"admin_trackers":{"id":"database"},"admin_userfiles":{"id":"cog"},"admin_video":{"id":"video"},"admin_webmail":{"id":"inbox"},"admin_webservices":{"id":"cog"},"admin_wiki":{"id":"file-alt","prepend":"far fa-"},"admin_workspace":{"id":"desktop"},"admin_wysiwyg":{"id":"file-alt"},"admin_print":{"id":"print"},"admin_packages":{"id":"gift"},"admin_rtc":{"id":"bullhorn"},"adn":{"id":"adn","prepend":"fab fa-"},"amazon":{"id":"amazon","prepend":"fab fa-"},"android":{"id":"android","prepend":"fab fa-"},"angellist":{"id":"angellist","prepend":"fab fa-"},"apple":{"id":"apple","prepend":"fab fa-"},"area-chart":{"id":"chart-area"},"arrows":{"id":"arrows-alt"},"arrows-h":{"id":"arrows-alt-h"},"arrows-v":{"id":"arrows-alt-v"},"articles":{"id":"newspaper","prepend":"far fa-"},"attach":{"id":"paperclip"},"audio":{"id":"file-audio","prepend":"far fa-"},"back":{"id":"arrow-left"},"background-color":{"id":"paint-brush"},"backlink":{"id":"reply"},"backward_step":{"id":"step-backward"},"bar-chart":{"id":"chart-bar"},"behance":{"id":"behance","prepend":"fab fa-"},"behance-square":{"id":"behance-square","prepend":"fab fa-"},"bitbucket":{"id":"bitbucket","prepend":"fab fa-"},"black-tie":{"id":"black-tie","prepend":"fab fa-"},"bluetooth":{"id":"bluetooth","prepend":"fab fa-"},"bluetooth-b":{"id":"bluetooth-b","prepend":"fab fa-"},"box":{"id":"list-alt","prepend":"far fa-"},"btc":{"id":"btc","prepend":"fab fa-"},"buysellads":{"id":"buysellads","prepend":"fab fa-"},"cart":{"id":"shopping-cart"},"chart":{"id":"chart-area"},"cc-amex":{"id":"cc-amex","prepend":"fab fa-"},"cc-diners-club":{"id":"cc-diners-club","prepend":"fab fa-"},"cc-discover":{"id":"cc-discover","prepend":"fab fa-"},"cc-jcb":{"id":"cc-jcb","prepend":"fab fa-"},"cc-mastercard":{"id":"cc-mastercard","prepend":"fab fa-"},"cc-paypal":{"id":"cc-paypal","prepend":"fab fa-"},"cc-stripe":{"id":"cc-stripe","prepend":"fab fa-"},"cc-visa":{"id":"cc-visa","prepend":"fab fa-"},"chrome":{"id":"chrome","prepend":"fab fa-"},"close":{"id":"times"},"cloud-download":{"id":"cloud-download-alt"},"cloud-upload":{"id":"cloud-upload-alt"},"code_file":{"id":"file-code","prepend":"far fa-"},"code-fork":{"id":"code-branch"},"codepen":{"id":"codepen","prepend":"fab fa-"},"codiepie":{"id":"codiepie","prepend":"fab fa-"},"collapsed":{"id":"plus-square","prepend":"far fa-"},"comments":{"id":"comments","prepend":"far fa-"},"compose":{"id":"pencil-alt"},"computer":{"id":"desktop"},"contacts":{"id":"users"},"content-template":{"id":"file","prepend":"far fa-"},"create":{"id":"plus"},"creative-commons":{"id":"creative-commons","prepend":"fab fa-"},"css3":{"id":"css3","prepend":"fab fa-"},"dashboard":{"id":"tachometer-alt"},"dashcube":{"id":"dashcube","prepend":"fab fa-"},"delete":{"id":"times"},"delicious":{"id":"delicious","prepend":"fab fa-"},"deviantart":{"id":"deviantart","prepend":"fab fa-"},"difference":{"id":"strikethrough"},"disable":{"id":"minus-square"},"documentation":{"id":"book"},"down":{"id":"sort-down"},"dribbble":{"id":"dribbble","prepend":"fab fa-"},"dropbox":{"id":"dropbox","prepend":"fab fa-"},"drupal":{"id":"drupal","prepend":"fab fa-"},"edge":{"id":"edge","prepend":"fab fa-"},"education":{"id":"graduation-cap"},"empire":{"id":"empire","prepend":"fab fa-"},"envelope":{"id":"envelope","prepend":"far fa-"},"envira":{"id":"envira","prepend":"fab fa-"},"erase":{"id":"eraser"},"error":{"id":"exclamation-circle"},"excel":{"id":"file-excel","prepend":"far fa-"},"exchange":{"id":"exchange-alt"},"expanded":{"id":"minus-square","prepend":"far fa-"},"expeditedssl":{"id":"expeditedssl","prepend":"fab fa-"},"export":{"id":"download"},"facebook":{"id":"facebook","prepend":"fab fa-"},"facebook-f":{"id":"facebook-f","prepend":"fab fa-"},"file":{"id":"file","prepend":"far fa-"},"file-archive":{"id":"folder"},"file-archive-open":{"id":"folder-open"},"file-text":{"id":"file-alt"},"file-text-o":{"id":"file-alt","prepend":"far fa-"},"firefox":{"id":"firefox","prepend":"fab fa-"},"first-order":{"id":"first-order","prepend":"fab fa-"},"flickr":{"id":"flickr","prepend":"fab fa-"},"floppy":{"id":"save","prepend":"far fa-"},"font-awesome":{"id":"font-awesome","prepend":"fab fa-"},"font-color":{"id":"font","class":"text-danger"},"fonticons":{"id":"fonticons","prepend":"fab fa-"},"fort-awesome":{"id":"fort-awesome","prepend":"fab fa-"},"forumbee":{"id":"forumbee","prepend":"fab fa-"},"forward_step":{"id":"step-forward"},"foursquare":{"id":"foursquare","prepend":"fab fa-"},"fullscreen":{"id":"expand-arrows-alt"},"get-pocket":{"id":"get-pocket","prepend":"fab fa-"},"gg":{"id":"gg","prepend":"fab fa-"},"gg-circle":{"id":"gg-circle","prepend":"fab fa-"},"git":{"id":"git","prepend":"fab fa-"},"git-square":{"id":"git-square","prepend":"fab fa-"},"github":{"id":"github","prepend":"fab fa-"},"github-alt":{"id":"github-alt","prepend":"fab fa-"},"github-square":{"id":"github-square","prepend":"fab fa-"},"gitlab":{"id":"gitlab","prepend":"fab fa-"},"glide":{"id":"glide","prepend":"fab fa-"},"glide-g":{"id":"glide-g","prepend":"fab fa-"},"google":{"id":"google","prepend":"fab fa-"},"google-plus":{"id":"google-plus","prepend":"fab fa-"},"google-plus-g":{"id":"google-plus-g","prepend":"fab fa-"},"google-plus-square":{"id":"google-plus-square","prepend":"fab fa-"},"group":{"id":"users"},"h1":{"id":"heading"},"h2":{"id":"heading","size":".9"},"h3":{"id":"heading","size":".8"},"hacker-news":{"id":"hacker-news","prepend":"fab fa-"},"help":{"id":"question-circle"},"history":{"id":"clock","prepend":"far fa-"},"horizontal-rule":{"id":"minus"},"houzz":{"id":"houzz","prepend":"fab fa-"},"html":{"id":"html5","prepend":"fab fa-"},"image":{"id":"file-image","prepend":"far fa-"},"import":{"id":"upload"},"index":{"id":"spinner"},"information":{"id":"info-circle","prepend":null,"append":null},"instagram":{"id":"instagram","prepend":"fab fa-"},"internet-explorer":{"id":"internet-explorer","prepend":"fab fa-"},"ioxhost":{"id":"ioxhost","prepend":"fab fa-"},"java":{"id":"java","prepend":"fab fa-"},"joomla":{"id":"joomla","prepend":"fab fa-"},"js":{"id":"js","prepend":"fab fa-"},"jsfiddle":{"id":"jsfiddle","prepend":"fab fa-"},"keyboard":{"id":"keyboard","prepend":"far fa-"},"lastfm":{"id":"lastfm","prepend":"fab fa-"},"lastfm-square":{"id":"lastfm-square","prepend":"fab fa-"},"leanpub":{"id":"leanpub","prepend":"fab fa-"},"less":{"id":"less","prepend":"fab fa-"},"level-down":{"id":"level-down-alt"},"level-up":{"id":"level-up-alt"},"like":{"id":"thumbs-up"},"line-chart":{"id":"chart-line"},"link-external":{"id":"external-link-alt"},"link-external-alt":{"id":"external-link-square-alt"},"linkedin":{"id":"linkedin","prepend":"fab fa-"},"linkedin-in":{"id":"linkedin-in","prepend":"fab fa-"},"linux":{"id":"linux","prepend":"fab fa-"},"list-numbered":{"id":"list-ol"},"listgui_display":{"id":"desktop"},"listgui_filter":{"id":"filter"},"listgui_format":{"id":"indent"},"listgui_pagination":{"id":"book"},"listgui_output":{"id":"eye","prepend":"far fa-"},"listgui_column":{"id":"columns"},"listgui_tablesorter":{"id":"table"},"listgui_icon":{"id":"user"},"listgui_body":{"id":"align-justify"},"listgui_carousel":{"id":"slideshare","prepend":"fab fa-"},"listgui_sort":{"id":"sort-alpha-up"},"listgui_wikitext":{"id":"file-alt","prepend":"far fa-"},"listgui_caption":{"id":"align-center"},"log":{"id":"history"},"login":{"id":"sign-in-alt"},"logout":{"id":"sign-out-alt"},"long-arrow-down":{"id":"long-arrow-alt-down"},"long-arrow-left":{"id":"long-arrow-alt-left"},"long-arrow-right":{"id":"long-arrow-alt-right"},"long-arrow-up":{"id":"long-arrow-alt-up"},"mailbox":{"id":"inbox"},"magnifier":{"id":"search"},"maxcdn":{"id":"maxcdn","prepend":"fab fa-"},"medium":{"id":"medium","prepend":"fab fa-"},"menu":{"id":"bars"},"menu-extra":{"id":"chevron-down"},"menuitem":{"id":"angle-right"},"merge":{"id":"random"},"microsoft":{"id":"microsoft","prepend":"fab fa-"},"minimize":{"id":"compress"},"mixcloud":{"id":"mixcloud","prepend":"fab fa-"},"module":{"id":"square"},"modules":{"id":"shapes"},"modx":{"id":"modx","prepend":"fab fa-"},"money":{"id":"money-bill"},"more":{"id":"ellipsis-h"},"move":{"id":"exchange-alt"},"next":{"id":"arrow-right"},"notepad":{"id":"file-alt","prepend":"far fa-"},"notification":{"id":"bell","prepend":"far fa-"},"off":{"id":"power-off"},"ok":{"id":"check-circle"},"opencart":{"id":"opencart","prepend":"fab fa-"},"openid":{"id":"openid","prepend":"fab fa-"},"opera":{"id":"opera","prepend":"fab fa-"},"optin-monster":{"id":"optin-monster","prepend":"fab fa-"},"page-break":{"id":"cut"},"pagelines":{"id":"pagelines","prepend":"fab fa-"},"paypal":{"id":"paypal","prepend":"fab fa-"},"pdf":{"id":"file-pdf","prepend":"far fa-"},"pencil":{"id":"pencil-alt"},"permission":{"id":"key"},"pie-chart":{"id":"chart-pie"},"pied-piper":{"id":"pied-piper","prepend":"fab fa-"},"pied-piper-alt":{"id":"pied-piper-alt","prepend":"fab fa-"},"pied-piper-pp":{"id":"pied-piper-pp","prepend":"fab fa-"},"pinterest":{"id":"pinterest","prepend":"fab fa-"},"pinterest-p":{"id":"pinterest-p","prepend":"fab fa-"},"pinterest-square":{"id":"pinterest-square","prepend":"fab fa-"},"plugin":{"id":"puzzle-piece"},"popup":{"id":"list-alt","prepend":"far fa-"},"post":{"id":"pencil-alt"},"powerpoint":{"id":"file-powerpoint","prepend":"far fa-"},"previous":{"id":"arrow-left"},"qq":{"id":"qq","prepend":"fab fa-"},"quotes":{"id":"quote-left"},"ranking":{"id":"sort-numeric-down"},"reddit":{"id":"reddit","prepend":"fab fa-"},"reddit-alien":{"id":"reddit-alien","prepend":"fab fa-"},"reddit-square":{"id":"reddit-square","prepend":"fab fa-"},"refresh":{"id":"sync"},"remove":{"id":"times"},"renren":{"id":"renren","prepend":"fab fa-"},"repeat":{"id":"redo"},"safari":{"id":"safari","prepend":"fab fa-"},"sass":{"id":"sass","prepend":"fab fa-"},"scissors":{"id":"cut"},"scribd":{"id":"scribd","prepend":"fab fa-"},"screencapture":{"id":"camera"},"selectall":{"id":"file-alt"},"send":{"id":"paper-plane"},"settings":{"id":"wrench"},"sharethis":{"id":"share-alt"},"shorten":{"id":"crop"},"simplybuilt":{"id":"simplybuilt","prepend":"fab fa-"},"skyatlas":{"id":"skyatlas","prepend":"fab fa-"},"skype":{"id":"skype","prepend":"fab fa-"},"slack":{"id":"slack","prepend":"fab fa-"},"smile":{"id":"smile","prepend":"far fa-"},"snapchat":{"id":"snapchat","prepend":"fab fa-"},"snapchat-ghost":{"id":"snapchat-ghost","prepend":"fab fa-"},"snapchat-square":{"id":"snapchat-square","prepend":"fab fa-"},"sort-asc":{"id":"sort-up"},"sort-alpha-asc":{"id":"sort-alpha-up"},"sort-alpha-desc":{"id":"sort-alpha-down"},"sort-amount-asc":{"id":"sort-amount-up"},"sort-amount-desc":{"id":"sort-amount-down"},"sort-desc":{"id":"sort-down"},"sort-down":{"id":"sort-down"},"sort-numeric-asc":{"id":"sort-numeric-up"},"sort-numeric-desc":{"id":"sort-numeric-down"},"sort-up":{"id":"sort-up"},"soundcloud":{"id":"soundcloud","prepend":"fab fa-"},"spotify":{"id":"spotify","prepend":"fab fa-"},"stack-exchange":{"id":"stack-exchange","prepend":"fab fa-"},"stack-overflow":{"id":"stack-overflow","prepend":"fab fa-"},"star-empty":{"id":"star","prepend":"far fa-"},"star-empty-selected":{"id":"star","prepend":"far fa-","class":"text-success"},"star-half-rating":{"id":"star-half","prepend":"far fa-"},"star-half-selected":{"id":"star-half","prepend":"far fa-","class":"text-success"},"star-selected":{"id":"star","class":"text-success"},"status-open":{"id":"circle","style":"color:green"},"status-pending":{"id":"adjust","style":"color:orange"},"status-closed":{"id":"times-circle","prepend":"far fa-","style":"color:grey"},"steam":{"id":"steam","prepend":"fab fa-"},"steam-square":{"id":"steam-square","prepend":"fab fa-"},"stop-watching":{"id":"eye-slash","prepend":"far fa-"},"structure":{"id":"sitemap"},"stumbleupon":{"id":"stumbleupon","prepend":"fab fa-"},"success":{"id":"check"},"textfile":{"id":"file-alt","prepend":"far fa-"},"themeisle":{"id":"themeisle","prepend":"fab fa-"},"three-d":{"id":"cube"},"ticket":{"id":"ticket-alt"},"time":{"id":"clock","prepend":"far fa-"},"title":{"id":"text-width"},"toggle-left":{"id":"caret-square-left","prepend":"far fa-"},"toggle-off":{"id":"toggle-off"},"toggle-on":{"id":"toggle-on"},"toggle-right":{"id":"caret-square-right","prepend":"far fa-"},"trackers":{"id":"database"},"translate":{"id":"language"},"trash":{"id":"trash-alt","prepend":"far fa-"},"trello":{"id":"trello","prepend":"fab fa-"},"tripadvisor":{"id":"tripadvisor","prepend":"fab fa-"},"tumblr":{"id":"tumblr","prepend":"fab fa-"},"tumblr-square":{"id":"tumblr-square","prepend":"fab fa-"},"twitch":{"id":"twitch","prepend":"fab fa-"},"twitter":{"id":"twitter","prepend":"fab fa-"},"twitter-square":{"id":"twitter-square","prepend":"fab fa-"},"unlike":{"id":"thumbs-down"},"up":{"id":"sort-up"},"usb":{"id":"usb","prepend":"fab fa-"},"viacoin":{"id":"viacoin","prepend":"fab fa-"},"video":{"id":"file-video","prepend":"far fa-"},"video_file":{"id":"file-video","prepend":"far fa-"},"view":{"id":"search-plus"},"vimeo":{"id":"vimeo-square","prepend":"fab fa-"},"vine":{"id":"vine","prepend":"fab fa-"},"vk":{"id":"vk","prepend":"fab fa-"},"warning":{"id":"exclamation-triangle"},"watch":{"id":"eye","prepend":"far fa-"},"watch-group":{"id":"users"},"weibo":{"id":"weibo","prepend":"fab fa-"},"whatsapp":{"id":"whatsapp","prepend":"fab fa-"},"windows":{"id":"windows","prepend":"fab fa-"},"wiki":{"id":"file-alt","prepend":"far fa-"},"wizard":{"id":"magic"},"word":{"id":"file-word","prepend":"far fa-"},"wysiwyg":{"id":"file-alt"},"xbox":{"id":"xbox","prepend":"fab fa-"},"xing":{"id":"xing","prepend":"fab fa-"},"xing-square":{"id":"xing-square","prepend":"fab fa-"},"yahoo":{"id":"yahoo","prepend":"fab fa-"},"youtube":{"id":"youtube","prepend":"fab fa-"},"youtube-square":{"id":"youtube-square","prepend":"fab fa-"},"zip":{"id":"file-archive","prepend":"far fa-"}},"tag":"span","prepend":"fas fa-","append":" fa-fw","rotate":{"90":" fa-rotate-90","180":" fa-rotate-180","270":" fa-rotate-270","horizontal":" fa-flip-horizontal","vertical":" fa-flip-vertical"}}
var zoomToFoundLocation = "street";

var bootstrapButton;
if (typeof $.fn.button.noConflict === "function") {
	bootstrapButton = $.fn.button.noConflict() // return $.fn.button to previously assigned value
	$.fn.bootstrapBtn = bootstrapButton            // give $().bootstrapBtn the Bootstrap functionality
}

/*
if (getCookie('postitnote') != 'hidden') {
  $('#postitnote').removeClass('hidden').hide().delay('500').fadeIn('slow');
}
*/

/* 
 * this section of the custom js amends the way that OpenLayers 'spaces out' 
 * dot and dot/dash markings for paths etc - added by Geoff (eromneg) Aug '14
*/
 if ( typeof OpenLayers != "undefined") {
 OpenLayers.Renderer.SVG.prototype.dashStyle = function(style, widthFactor) {
        var w = style.strokeWidth * widthFactor;
        var str = style.strokeDashstyle;
        switch (str) {
            case 'solid':
                return 'none';
            case 'dot':
                return [1, 4 * w].join();
            case 'dash':
                return [4 * w, 2 * w].join();
            case 'dashdot':
                return [4 * w, 2 * w, 1, 2 * w].join();
            case 'longdash':
                return [8 * w, 2 * w].join();
            case 'longdashdot':
                return [8 * w, 2 * w, 1, 2 * w].join();
            default:
                return OpenLayers.String.trim(str).replace(/\s+/g, ",");
        }
    }
}
					function submitSearch1() {
						var $f = $('#search-module-form1');
						if ($f.attr('action') !== "tiki-editpage.php" && $f.data('page_selected') === $("#search_mod_input_1").val()) {
							if ($f.find('input[name="find"]').length) {
								$f.find('input[name="find"]').val($f.data('page_selected'));
							} else {
								$f.append($('<input name="find">').val($f.data('page_selected')));
							}
							$f.attr('action', 'tiki-listpages.php');
						} else if ($f.attr('action') == "#") {
							$f.attr('action', 'tiki-searchindex.php');
						}
						$exact = $f.find("input[name=exact_match]");
						if ($exact.val() != "y") {
							$exact.remove(); // seems exact_match is true even if empty
						}
						return true;
					}
				

function capLock(e, el){
	kc = e.keyCode ? e.keyCode : e.which;
	sk = e.shiftKey ? e.shiftKey : (kc == 16 ? true : false);
	if ((kc >= 65 && kc <= 90 && !sk) || (kc >= 97 && kc <= 122 && sk)) {
		$('.divCapson', $(el).parents('div:first')).show();
	} else {
		$('.divCapson', $(el).parents('div:first')).hide();
	}
}

// js 2 

try {
	var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
	setCookie("local_tz", timezone);
} catch (e) {}

// this is used by tiki-confirm.js checkTimeout, so needs to be always set
var now = new Date();

if (! timezone) {
	function inArray(item, array) {
		for (var i in array) {
			if (array[i] === item) {
				return i;
			}
		}
		return false;
	}
	var allTimeZoneCodes = ["ACDT","ACST","ADDT","ADT","AEDT","AEST","AHDT","AHST","AKDT","AKST","AMT","APT","AST","AWDT","AWST","AWT","BDST","BDT","BMT","BOST","BST","CAST","CAT","CDDT","CDT","CEMT","CEST","CET","CMT","CPT","CST","CWT","CHST","DMT","EAT","EDDT","EDT","EEST","EET","EMT","EPT","EST","EWT","FFMT","FMT","GMT","GST","HDT","HKST","HKT","HMT","HST","IDDT","IDT","IMT","IST","JDT","JMT","JST","KDT","KMT","KST","LST","MDDT","MDST","MDT","MMT","MPT","MSD","MSK","MST","MWT","NDDT","NDT","NPT","NST","NWT","NZDT","NZMT","NZST","PDDT","PDT","PKST","PKT","PLMT","PMMT","PMT","PPMT","PPT","PST","PWT","QMT","RMT","SAST","SDMT","SET","SJMT","SMT","SST","TBMT","TMT","UCT","UTC","WAST","WAT","WEMT","WEST","WET","WIB","WITA","WIT","WMT","YDDT","YDT","YPT","YST","YWT","A","B","C","D","E","F","G","H","I","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
	var now_string = now.toString();
	var offsethours = - now.getTimezoneOffset() / 60;
	setCookie("local_tzoffset", offsethours);
	var m = now_string.match(/[ \(]([A-Z]{3,6})[ \)]?[ \d]*$/);	// try three or more char tz first at the end or just before the year
	if (!m) {
		m = now_string.match(/[ \(]([A-Z]{1,6})[ \)]?[ \d]*$/);	// might be a "military" one if not
	}
	if (m) {
		m = m[1];
	} else {	// IE (sometimes) gives UTC +offset instead of the abbreviation
		// sadly this workaround will fail for non-whole hour offsets
		var hours = - now.getTimezoneOffset() / 60;
		m = "GMT" + (hours > 0 ? "+" : "") + hours;
	}
	// Etc/GMT+ is equivalent to GMT-
	if (m.substring(0,4) == "GMT+") {
		m = "Etc/GMT-" + m.substring(4);
		setCookie("local_tz", m);
	}
	if (m.substring(0,4) == "GMT-") {
		m = "Etc/GMT+" + m.substring(4);
		setCookie("local_tz", m);
	}
	if (inArray(m, allTimeZoneCodes)) {
		setCookie("local_tz", m);
	}
}

//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
$(document).ready(function(){
// jq_onready 0 
$("article").fitVids();
$("time.timeago").timeago(); jQuery.timeago.settings.allowFuture = true;
$(".table-responsive").doubleScroll({resetOnWindowResize: true});
$(".convert-mailto").removeClass("convert-mailto").each(function () {
				var address = $(this).data("encode-name") + "@" + $(this).data("encode-domain");
				$(this).attr("href", "mailto:" + address).text(address);
			});
$(".search_mod_magnifier").mouseover( function () {
	$(".search_mod_buttons", $(this).parents(".module"))
		.show('fast')
		.mouseleave( function () {
			$(this).hide('fast');
		});
}).click( function () {
	$(this).parents("form").submit();
});
$("#search_mod_input_1")
.keydown( function () {
	$(".search_mod_magnifier", $(this).parent()).mouseover();}
);
						
$("#search_mod_input_1").tiki("autocomplete", "pagename",{select: function(event, item) {
						$('#search-module-form1').data('page_selected', item.item.value).find("input[name=exact_match]").val("y");
						}, open: function(event, item) {
						$(".search_mod_buttons", "#search-module-form1").hide();
						}, close: function(event, item) {
						$(".search_mod_buttons", "#search-module-form1").show();
						}});
$(document).ready(function () {
  var resetCSS = {
    transition: 'all .5s ease 0s',
    top: '',
    height: '',
    minHeight: '',
    opacity: '',
    overflow: ''
  };
  $(window).on("scroll", function () {
    if ($(window).scrollTop() > 200) {
      $('.navbar.fixed-top, .navbar-fixed-top').css({
          transition: 'all .75s ease 0s',
          top: '-20px',
          height: '25px',
          minHeight: '5px',
          opacity: '.75',
          overflow: 'hidden'
      });
      $('html:not(#page_1) .topbar').css({
          'box-shadow': '0 5px 10px 0px rgba(0,0,0,.25)',
          position: 'fixed',
          top: '6px',
          width: '100%',
          left: 0,
          'z-index': 3
      });
    } else {
      $('.navbar.fixed-top, .navbar-fixed-top').css(resetCSS);
      $(".topbar").removeAttr('style');
    }
  });
  $('.navbar.fixed-top, .navbar-fixed-top').on('mouseover', function () {
    $(this).css(resetCSS);
    $('html:not(#page_1) .topbar').css({
      top: '46px'
    });
  });
});

$('.backtotop').hide();
function backtotop(){
    var scrolled = $(window).scrollTop();
    if (scrolled > 0) {
        $('.backtotop').fadeIn();
    } else {
        $('.backtotop').fadeOut().removeAttr('style');
    }
}
$(window).scroll(function(e){
    backtotop();
});
$('.backtotop a').click(function(event){
    event.preventDefault();
    $('html,body').animate({
        scrollTop:$('body').offset().top
    }, 1000);
});

$("#loginbox-1").submit( function () {
	if ($("#login-user_1").val() && $("#login-pass_1").val()) {
		return true;
	} else {
		$("#login-user_1").focus();
		return false;
	}
});
if (jqueryTiki.no_cookie) {
	$('.box-login_box input').each(function(){
		$(this).change(function() {
			if (jqueryTiki.no_cookie && $(this).val()) {
				alert(jqueryTiki.cookie_consent_alert);
			}
		});
	});
}

if ($('#login-user_1:visible').length) {if ($("#login-user_1").offset().top < $(window).height()) {$('#login-user_1')[0].focus();} }
});
//--><!]]>
</script>

	
		<!-- Piwik -->


<!-- End Piwik Code -->
</body>
</html>
