<!DOCTYPE html>
<html lang="en" id="">
  <head>
    
    
    <meta charset="utf-8">
    <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8">
    <meta name="msvalidate.01" content="4C77784AFD61498FA0764E14D1631D53">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Migrating to Payment Intents | Stripe Payments</title>

    <meta name="description" content="Online payment processing for internet businesses. Stripe is a suite of payment APIs that powers commerce for businesses of all sizes.">


    <link rel="shortcut icon" href="../../../favicon.ico">

    <link rel="apple-touch-icon-precomposed" href="../../../img/apple-touch-icon/180x180.png">
    <link rel="icon" href="../../../img/apple-touch-icon/180x180.png">


    <link rel="image_src" type="image/png" href="../../../img/v3/home/social.png">

    
<link rel="canonical" href="migration.html">


    <meta property="og:title" content="Migrating to Payment Intents | Stripe Payments">
    <meta property="og:url" content="https://stripe.com/docs/payments/payment-intents/migration">
    <meta property="og:description" content="Online payment processing for internet businesses. Stripe is a suite of payment APIs that powers commerce for businesses of all sizes.">
    <meta property="og:image" content="https://stripe.com/img/v3/home/social.png">

      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="https://stripe.com/img/v3/home/twitter.png">
    <meta name="twitter:site" content="@stripe">
    <meta name="twitter:title" content="Migrating to Payment Intents | Stripe Payments">
    <meta name="twitter:description" content="Online payment processing for internet businesses. Stripe is a suite of payment APIs that powers commerce for businesses of all sizes.">

    <script type="application/json" id="sentry-config">{&quot;enabled&quot;:true,&quot;dsn&quot;:&quot;https://8ca50a25374f408699e0eda3eb47e7f9@errors.stripe.com/101&quot;,&quot;release&quot;:&quot;970ae5326b92ec34ae0e47dd75d5bbbe608bcdf4&quot;,&quot;environment&quot;:&quot;development&quot;,&quot;project&quot;:&quot;site&quot;}</script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sentry-97c4b87de47130a60661.min.js"></script>



    <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/compiled/js/../css/sprockets-css-v3/shared/navigation_ie10-20060247f192805b273d.min.css&quot;}</script>

    <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Corporation",
    "name": "Stripe",
    "url": "https://stripe.com/",
    "logo": "https://stripe.com/img/about/logos/logos/blue.png",
    "contactPoint" : [
      {
        "@type" : "ContactPoint",
        "url": "https://stripe.com/contact",
        "email": "info@stripe.com",
        "contactType": "customer support"
      }
    ],
    "sameAs": [
      "https://www.facebook.com/StripeHQ/",
      "https://twitter.com/stripe",
      "https://www.linkedin.com/company/stripe"
    ]
  }
</script>

    <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Country",
    "address": {
      "addressCountry": "US"
    }
  }
</script>

      <link rel="preload" href="../../../fonts/stripe-icons.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../../../fonts/camphor-ss/300-light.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../../../fonts/camphor-ss/400-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../../../fonts/camphor-ss/500-medium.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../../../fonts/camphor-ss/600-bold.woff2" as="font" type="font/woff2" crossorigin>


<script type="text/javascript" nonce="2qL+LGiyEa6rZHmwvgz4SQ==">        !function(){if('PerformanceLongTaskTiming' in window){var g=window.__tti={e:[]};
        g.o=new PerformanceObserver(function(l){g.e=g.e.concat(l.getEntries())});
        g.o.observe({entryTypes:['longtask']})}}();
</script>
      <meta name="stripe-asset-root" content="https://b.stripecdn.com/mkt/assets">
<link rel="preconnect" href="https://b.stripecdn.com" crossorigin>
<link rel="dns-prefetch" href="https://b.stripecdn.com">

            <link rel="preload" href="../../../../b.stripecdn.com/mkt/assets/Sohne-5994f5a0.woff2" as="font" crossorigin>
          

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/fonts-2d33d6.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/global-915871.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/White-91e563.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Light-94422c.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Dark-e92765.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Transparent-3d0008.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Legacy-bf2a92.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/LegacyLight-fb73d4.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/LegacyDark-aa8d83.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Chroma-91bf03.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/CottonCandy-e09cce.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Holly-1664a6.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/LemonLime-cae047.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Overcast-429acc.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Pomegranate-88d023.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Slate-2b436b.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Sunburst-c24337.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Sunset-65e114.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Twilight-0bab55.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Wintergreen-a53616.css">
            

              <link rel="stylesheet" href="../../../../b.stripecdn.com/mkt/assets/Layout-424af2.css">
            

    



    <meta content="1" name="csrf-token">
      <meta content="stripe.com" name="stripe-domain">

      <link rel="stylesheet" href="../../../assets/compiled/css/sprockets-css-sail-2d674e24598277783349.min.css">
    <link rel="stylesheet" href="../../../assets/compiled/css/sprockets-css-v3/default-a983e753e40dfd33838e.min.css">
    <link rel="stylesheet" href="../../../assets/compiled/css/sprockets-css-v3/shared/common-498b69b0c8172690999c.min.css">
    <link rel="stylesheet" href="../../../assets/compiled/css/sprockets-css-v3/documentation/base-732c92df090a16aa2d70.min.css">
    
    <link rel="stylesheet" href="../../../assets/compiled/css/docsApps-36c8d73a60d2da272c59.min.css">
      <link rel="stylesheet" href="../../../assets/compiled/css/sprockets-css-v3/shared/prism_light-433b626453a5d1ab161c.min.css">

      <meta name="robots" content="noarchive">



  </head>
  <body class="">
    
      <div id="docs">
        <div id="sidebar" style="display: none;">
            
  <div class="logo">
    <a href="../../recipes/switching-to-stripe.html" title="Stripe docs">
      <div class="site"></div>
      <span class="extension docs">
        
      </span>
    </a>
</div>


<div class="nav-border"></div>


<nav class="new-sidebar section-selected">
  <div class="new-sidebar-viewport">
    <div class="section-list">
        <h1 class="home">
          <a class="item-link  " href="../../recipes/switching-to-stripe.html" data-section-rel="/docs">
            Home
          </a>
        </h1>
        <h1 class="payments">
          <a class="section-link  " href="../../payments.html" data-section-rel="/docs/payments" title="A complete payments platform engineered for growth">
            Payments
          </a>
        </h1>
        <h1 class="subscriptions">
          <a class="section-link  " href="../../billing/quickstart.html" data-section-rel="/docs/billing" title="Build and scale your recurring business model">
            Billing
          </a>
        </h1>
        <h1 class="connect">
          <a class="section-link  " href="../../connect.html" data-section-rel="/docs/connect" title="Everything platforms need to get sellers paid">
            Connect
          </a>
        </h1>
        <h1 class="checkout">
          <a class="section-link  " href="../../checkout.html" data-section-rel="/docs/payments/checkout" title="The fastest way to get started with Stripe">
            Checkout
          </a>
        </h1>
        <h1 class="sigma">
          <a class="section-link  " href="../../sigma.html" data-section-rel="/docs/sigma" title="Your business data at your fingertips">
            Sigma
          </a>
        </h1>
        <h1 class="atlas">
          <a class="section-link  " href="../../atlas.html" data-section-rel="/docs/atlas" title="Turn your idea into a startup">
            Atlas
          </a>
        </h1>
        <h1 class="radar">
          <a class="section-link  " href="../../radar.html" data-section-rel="/docs/radar" title="Fight fraud with machine learning">
            Radar
          </a>
        </h1>
        <h1 class="issuing">
          <a class="section-link  " href="../../issuing.html" data-section-rel="/docs/issuing" title="Create, distribute, and manage cards">
            Issuing
          </a>
        </h1>
        <h1 class="terminal">
          <a class="section-link  " href="../../terminal.html" data-section-rel="/docs/terminal" title="The programmable point of sale">
            Terminal
          </a>
        </h1>
        <h1 class="capital">
          <a class="section-link  " href="../../capital/faqs.html" data-section-rel="/docs/capital/faqs" title="Financing for your business">
            Capital
          </a>
        </h1>
        <h1 class="corporatecard">
          <a class="section-link  " href="../../corporate-card.html" data-section-rel="/docs/corporate-card" title="The Stripe Corporate Card">
            Corporate Card
          </a>
        </h1>
        <h1 class="identity">
          <a class="section-link  " href="../../identity.html" data-section-rel="/docs/identity" title="Verify your users online">
            Identity
          </a>
        </h1>
        <h1 class="dashboard">
          <a class="section-link  " href="../../dashboard.html" data-section-rel="/docs/dashboard" title="Dashboard">
            Dashboard
          </a>
        </h1>
        <h1 class="account">
          <a class="section-link  " href="../../account.html" data-section-rel="/docs/account" title="How to activate and secure your Stripe account">
            Account
          </a>
        </h1>
        <h1 class="api">
          <a class="section-link  " href="../../development.html" data-section-rel="/docs/development" title="Start developing your Stripe integration">
            Development
          </a>
        </h1>
        <h1 class="reporting">
          <a class="section-link  " href="../../dashboard/reporting.html" data-section-rel="/docs/reports/financial-reports" title="Generate reports of your Stripe financial information">
            Reports
          </a>
        </h1>
        <h1 class="partners">
          <a class="section-link  " href="../../partners.html" data-section-rel="/docs/partners">
            Partners
          </a>
        </h1>
        <h1 class="references">
          <a class="item-link  external" href="../../api/index.html" data-section-rel="/docs/api" target="_blank">
            API Reference
          </a>
        </h1>
    </div>
      <div class="section " data-section-id="/docs">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header home">
          <a class="">
            Home
          </a>
        </h1>
        
      </div>
      <div class="section expanded" data-section-id="/docs/payments">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header payments">
          <a class="">
            Payments
          </a>
        </h1>
        <ul class="expanded always-expanded">
    <li class="sidebar-item ">
      <a href="../../payments.html" class=" " title="Overview" aria-label="Overview">
        Overview
      </a>
    </li>
    <li class="category ">Card payments
    </li>
    <li class="sidebar-item ">
      <a href="../cards/overview.html" class=" " aria-label="Learn the steps of a card payment" title="Learn the steps of a card payment">
        How cards work
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="quickstart.html" class=" " aria-label="Collect payments with Stripe" title="Collect payments with Stripe">
        Accept a payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../cards/reusing-cards.html" class=" " title="More payment scenarios" aria-label="More payment scenarios">
        More payment scenarios
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../save-and-reuse.html" class=" " aria-label="Save card details without a payment" title="Save card details without a payment">
        Set up later payments
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../cards/saving-cards.html" class=" " aria-label="Save card details during payment" title="Save card details during payment">
        Save a card during payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../capture-later.html" class=" " aria-label="Authorize a charge now, capture funds later" title="Authorize a charge now, capture funds later">
        Place a hold on a card
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="web-manual.html" class=" " aria-label="Accepting payments synchronously" title="Accepting payments synchronously">
        Finalize payments server-side
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../3d-secure.html" class=" " aria-label="Support 3D Secure authentication and more" title="Support 3D Secure authentication and more">
        3D Secure authentication
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../without-card-authentication.html" class=" " title="U.S. and Canadian cards" aria-label="U.S. and Canadian cards">
        U.S. and Canadian cards
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../save-card-without-authentication.html" class=" " aria-label="Save cards with your basic integration" title="Save cards with your basic integration">
        Save cards without authentication
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="upgrade-to-handle-actions.html" class=" " aria-label="Upgrade your basic integration to handle global payments" title="Upgrade your basic integration to handle global payments">
        Upgrade to handle authentication
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../after-the-payment.html" class=" " title="After the payment" aria-label="After the payment">
        After the payment
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../payouts.html" class=" " title="Payouts" aria-label="Payouts">
        Payouts
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../currencies.html" class=" " title="Currencies" aria-label="Currencies">
        Currencies
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../currencies/conversions.html" class=" " title="Currency conversions" aria-label="Currency conversions">
        Currency conversions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../payouts/instant-payouts-banks.html" class=" " title="Bank support for Instant Payouts" aria-label="Bank support for Instant Payouts">
        Bank support for Instant Payouts
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../declines.html" class=" " aria-label="Understanding declines and failed payments" title="Understanding declines and failed payments">
        Declines
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../declines/codes.html" class=" " title="Decline codes" aria-label="Decline codes">
        Decline codes
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../receipts.html" class=" " title="Email receipts" aria-label="Email receipts">
        Email receipts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../cards/refunds.html" class=" " title="Refunds" aria-label="Refunds">
        Refunds
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../handling-payment-events.html" class=" " aria-label="Use webhooks to respond to offline payment events" title="Use webhooks to respond to offline payment events">
        Handle webhook events
      </a>
    </li>
</ul>

    </li>
    <li class="category ">Add payment methods
    </li>
    <li class="sidebar-item ">
      <a href="../digital-wallets.html" class=" " title="Digital wallets" aria-label="Digital wallets">
        Digital wallets
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../sources/alipay.html" class=" " aria-label="Alipay payments with Sources" title="Alipay payments with Sources">
        Alipay
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../sources/alipay/ios.html" class=" " aria-label="Using Alipay in the iOS SDK" title="Using Alipay in the iOS SDK">
        iOS
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/alipay/android.html" class=" " aria-label="Using Alipay in the Android SDK" title="Using Alipay in the Android SDK">
        Android
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../amex-express-checkout.html" class=" " aria-label="Using Amex Express Checkout" title="Using Amex Express Checkout">
        Amex Express Checkout
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../apple-pay.html" class=" " title="Apple Pay" aria-label="Apple Pay">
        Apple Pay
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../apple-pay/best-practices.html" class=" " aria-label="Best practices with Apple Pay" title="Best practices with Apple Pay">
        Best practices
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../google-pay.html" class=" " title="Google Pay" aria-label="Google Pay">
        Google Pay
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../microsoft-pay.html" class=" " title="Microsoft Pay" aria-label="Microsoft Pay">
        Microsoft Pay
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../masterpass.html" class=" " aria-label="Using Masterpass" title="Using Masterpass">
        Masterpass
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../stripe-js/elements/payment-request-button.html" class=" " aria-label="Use a button to collect stored payment details" title="Use a button to collect stored payment details">
        Payment Request Button
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../secure-remote-commerce.html" class=" " aria-label="Using Secure Remote Commerce" title="Using Secure Remote Commerce">
        Secure Remote Commerce
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../visa-checkout.html" class=" " aria-label="Using Visa Checkout" title="Using Visa Checkout">
        Visa Checkout
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/wechat-pay.html" class=" " aria-label="WeChat Pay Payments with Sources (Public Beta)" title="WeChat Pay Payments with Sources (Public Beta)">
        WeChat Pay
      </a>
      <ul class=" ">
</ul>

    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../ach-bank-transfers.html" class=" " title="Bank debits and transfers" aria-label="Bank debits and transfers">
        Bank debits and transfers
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../ach.html" class=" " aria-label="ACH guide" title="ACH guide">
        ACH
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/ach-credit-transfer.html" class=" " aria-label="ACH Credit Transfer payments with Sources (Public Beta)" title="ACH Credit Transfer payments with Sources (Public Beta)">
        ACH Credit Transfer
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="https://stripe.com/docs/payments/au-becs-debit" class=" " aria-label="BECS Direct Debit payments in Australia" title="BECS Direct Debit payments in Australia">
        BECS Direct Debit in Australia
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="https://stripe.com/docs/payments/au-becs-debit/accept-a-payment" class=" " aria-label="Learn how to accept BECS Direct Debit payments in Australia" title="Learn how to accept BECS Direct Debit payments in Australia">
        Accept a payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="https://stripe.com/docs/payments/au-becs-debit/set-up-payment" class=" " aria-label="Save payment method details for future BECS Direct Debit payments in Australia" title="Save payment method details for future BECS Direct Debit payments in Australia">
        Save bank details
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../sepa-debit.html" class=" " aria-label="SEPA Direct Debit payments" title="SEPA Direct Debit payments">
        SEPA Direct Debit
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../sepa-debit/accept-a-payment.html" class=" " aria-label="Learn how to accept SEPA Direct Debit payments" title="Learn how to accept SEPA Direct Debit payments">
        Accept a payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../sepa-debit-setup-intents.html" class=" " aria-label="Save payment method details for future SEPA Direct Debit payments" title="Save payment method details for future SEPA Direct Debit payments">
        Save bank details
      </a>
    </li>
</ul>

    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../local-payment-methods.html" class=" " title="Other payment methods" aria-label="Other payment methods">
        Other payment methods
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../bancontact.html" class=" " aria-label="Bancontact payments with Sources" title="Bancontact payments with Sources">
        Bancontact
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../sources/bancontact/recurring.html" class=" " aria-label="Recurring Bancontact payments with Sources" title="Recurring Bancontact payments with Sources">
        Recurring payments
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../sources/eps.html" class=" " aria-label="EPS payments with Sources (Public Beta)" title="EPS payments with Sources (Public Beta)">
        EPS
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../fpx.html" class=" " aria-label="FPX payments with Payment Methods" title="FPX payments with Payment Methods">
        FPX
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../fpx/accept-a-payment.html" class=" " aria-label="Learn how to accept FPX payments" title="Learn how to accept FPX payments">
        Accept a payment
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../sources/giropay.html" class=" " aria-label="giropay payments with Sources" title="giropay payments with Sources">
        giropay
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../ideal.html" class=" " aria-label="iDEAL payments" title="iDEAL payments">
        iDEAL
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../ideal/accept-a-payment.html" class=" " aria-label="Learn how to accept iDEAL payments" title="Learn how to accept iDEAL payments">
        Accept a payment
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../sources/klarna.html" class=" " aria-label="Klarna payments with Sources (Public Beta)" title="Klarna payments with Sources (Public Beta)">
        Klarna
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../mobile/ios/klarna.html" class=" " aria-label="Klarna payments on iOS" title="Klarna payments on iOS">
        iOS
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../mobile/android/klarna.html" class=" " aria-label="Klarna payments on Android" title="Klarna payments on Android">
        Android
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../sources/multibanco.html" class=" " aria-label="Multibanco payments with Sources (Public Beta)" title="Multibanco payments with Sources (Public Beta)">
        Multibanco
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/p24.html" class=" " aria-label="Przelewy24 payments with Sources (Public Beta)" title="Przelewy24 payments with Sources (Public Beta)">
        Przelewy24
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sofort.html" class=" " aria-label="SOFORT payments with Sources" title="SOFORT payments with Sources">
        SOFORT
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item separator">
      <a href="../../testing.html" class=" " title="Testing" aria-label="Testing">
        Testing
      </a>
    </li>
    <li class="category ">About the APIs
    </li>
    <li class="sidebar-item ">
      <a href="creating-payment-intents.html" class=" " aria-label="About the Payment Intents API" title="About the Payment Intents API">
        Payment Intents
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../intents.html" class=" " aria-label="The lifecycle of a Payment or Setup Intent" title="The lifecycle of a Payment or Setup Intent">
        How intents work
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="verifying-status.html" class=" " aria-label="Verifying the status of a Payment Intent" title="Verifying the status of a Payment Intent">
        Payment status updates
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="migration/charges.html" class=" " aria-label="Understanding the payments APIs" title="Understanding the payments APIs">
        Compare to Charges
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../setup-intents.html" class=" " aria-label="About the Setup Intents API" title="About the Setup Intents API">
        Setup Intents
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../payment-methods.html" class=" " aria-label="About the Payment Methods API" title="About the Payment Methods API">
        Payment Methods
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../legacy-apis.html" class=" " aria-label="Our older APIs" title="Our older APIs">
        Older APIs
      </a>
      <ul class="expanded ">
    <li class="sidebar-item ">
      <a href="../../charges.html" class=" " aria-label="Use the Charges API" title="Use the Charges API">
        Charges
      </a>
      <ul class="expanded ">
    <li class="sidebar-item ">
      <a href="migration.html" class="selected " title="Migrate to the new APIs" aria-label="Migrate to the new APIs">
        Migrate to the new APIs
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../accept-a-payment-charges.html" class=" " aria-label="Collect payments with Stripe" title="Collect payments with Stripe">
        Accept a card payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../saving-cards.html" class=" " aria-label="Save cards to charge later" title="Save cards to charge later">
        Save a card
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../charges/placing-a-hold.html" class=" " title="Place a hold on a card" aria-label="Place a hold on a card">
        Place a hold on a card
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../charges-api/connect.html" class=" " aria-label="Stripe Connect and the Charges API" title="Stripe Connect and the Charges API">
        Charges with Connect
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../sources/bitcoin.html" class=" " aria-label="About the Sources API" title="About the Sources API">
        Sources
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../payment-methods/transitioning.html" class=" " title="Transition to the new APIs" aria-label="Transition to the new APIs">
        Transition to the new APIs
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/cards.html" class=" " title="Card Sources" aria-label="Card Sources">
        Card Sources
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/customers.html" class=" " title="Sources and customers" aria-label="Sources and customers">
        Sources and customers
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/connect.html" class=" " aria-label="Connect platforms using the Sources API" title="Connect platforms using the Sources API">
        Connect platforms
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sources/best-practices.html" class=" " aria-label="Best practices using Sources" title="Best practices using Sources">
        Best practices
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../mobile/ios/sources.html" class=" " aria-label="Getting started with Sources in the iOS SDK" title="Getting started with Sources in the iOS SDK">
        iOS
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../mobile/android/sources.html" class=" " aria-label="Getting started with Sources in the Android SDK" title="Getting started with Sources in the Android SDK">
        Android
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../orders.html" class=" " title="Orders" aria-label="Orders">
        Orders
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../orders/guide.html" class=" " title="How to use orders" aria-label="How to use orders">
        How to use orders
      </a>
    </li>
</ul>

    </li>
</ul>

    </li>
    <li class="category ">Regulation Support
    </li>
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication/doineed.html" class=" " title="Am I affected by SCA?" aria-label="Am I affected by SCA?">
        Am I affected by SCA?
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication.html" class=" " title="SCA readiness" aria-label="SCA readiness">
        SCA readiness
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication/migration.html" class=" " aria-label="Update your integration to prepare for SCA" title="Update your integration to prepare for SCA">
        Update your integration
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication/plugins.html" class=" " aria-label="Update your Stripe plugin to prepare for SCA" title="Update your Stripe plugin to prepare for SCA">
        Plugins
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication/grandfathered-agreements.html" class=" " aria-label="Learn which payment flows are grandfathered in" title="Learn which payment flows are grandfathered in">
        SCA grandfathering
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../strong-customer-authentication/faqs.html" class=" " aria-label="Get answers to common questions about SCA enforcement" title="Get answers to common questions about SCA enforcement">
        Frequently asked questions
      </a>
    </li>
</ul>

    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/billing">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header subscriptions">
          <a class="">
            Billing
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../billing/quickstart.html" class=" " aria-label="Stripe Billing overview" title="Stripe Billing overview">
        Overview
      </a>
    </li>
    <li class="category ">Start with a use case
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/fixed-price.html" class=" " aria-label="Learn how to offer multiple pricing options to your customers and charge them a fixed amount each month" title="Learn how to offer multiple pricing options to your customers and charge them a fixed amount each month">
        Fixed-price subscriptions with Elements
      </a>
    </li>
    <li class="category ">Manage subscriptions
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions.html" class=" " aria-label="Learn more about the lifecycles of Stripe Billing&rsquo;s subscriptions and invoices" title="Learn more about the lifecycles of Stripe Billing&rsquo;s subscriptions and invoices">
        How subscriptions work
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/model.html" class=" " title="How to model subscriptions" aria-label="How to model subscriptions">
        How to model subscriptions
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/examples.html" class=" " aria-label="Billing examples" title="Billing examples">
        Examples
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/payment.html" class=" " aria-label="Implementing a subscription signup and payment flow" title="Implementing a subscription signup and payment flow">
        Signup and payment flow
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/products-and-plans.html" class=" " aria-label="Managing products and prices" title="Managing products and prices">
        Products and Prices
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/self-serve-portal.html" class=" " aria-label="Learn about the self-serve portal" title="Learn about the self-serve portal">
        Self-serve portal
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/integrating-self-serve-portal.html" class=" " title="Integrating the self-serve portal" aria-label="Integrating the self-serve portal">
        Integrating the self-serve portal
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../billing/webhooks.html" class=" " aria-label="Using webhooks with subscriptions" title="Using webhooks with subscriptions">
        Subscription webhooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../subscriptions/changing.html" class=" " aria-label="Change subscriptions" title="Change subscriptions">
        Change subscriptions
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/upgrade-downgrade.html" class=" " aria-label="Upgrading and downgrading plans" title="Upgrading and downgrading plans">
        Upgrade and downgrade
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/canceling.html" class=" " aria-label="Cancel subscriptions" title="Cancel subscriptions">
        Cancel
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/pause.html" class=" " aria-label="Pause payment collection on subscriptions" title="Pause payment collection on subscriptions">
        Pause payment collection
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/pending-updates.html" class=" " aria-label="Learn how to handle payment failures when updating a subscription" title="Learn how to handle payment failures when updating a subscription">
        Pending updates
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/customer.html" class=" " title="Customers" aria-label="Customers">
        Customers
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/customer/balance.html" class=" " title="Customer Balance" aria-label="Customer Balance">
        Customer Balance
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/migration/strong-customer-authentication.html" class=" " title="Strong Customer Authentication (SCA)" aria-label="Strong Customer Authentication (SCA)">
        Strong Customer Authentication (SCA)
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/migration/taxes.html" class=" " title="Improved tax support" aria-label="Improved tax support">
        Improved tax support
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/migration/invoice-states.html" class=" " title="Invoices API updates" aria-label="Invoices API updates">
        Invoices API updates
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/migration/migrating-prices.html" class=" " title="Migrating to Prices" aria-label="Migrating to Prices">
        Migrating to Prices
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../billing/subscriptions/advanced.html" class=" " title="Advanced features" aria-label="Advanced features">
        Advanced features
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/taxes.html" class=" " title="Adding taxes" aria-label="Adding taxes">
        Adding taxes
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/discounts.html" class=" " title="Applying discounts" aria-label="Applying discounts">
        Applying discounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/backdating.html" class=" " title="Backdating subscriptions" aria-label="Backdating subscriptions">
        Backdating subscriptions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/billing-cycle.html" class=" " title="Billing cycles" aria-label="Billing cycles">
        Billing cycles
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/decimal-amounts.html" class=" " title="Decimal amounts" aria-label="Decimal amounts">
        Decimal amounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/metered-billing.html" class=" " title="Metered billing" aria-label="Metered billing">
        Metered billing
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/metered-billing/thresholds.html" class=" " title="Billing thresholds" aria-label="Billing thresholds">
        Billing thresholds
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/multiple.html" class=" " title="Multiple subscriptions" aria-label="Multiple subscriptions">
        Multiple subscriptions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/prorations.html" class=" " title="Prorations" aria-label="Prorations">
        Prorations
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/quantities.html" class=" " title="Setting quantities" aria-label="Setting quantities">
        Setting quantities
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/connect.html" class=" " title="Subscriptions with Connect" aria-label="Subscriptions with Connect">
        Subscriptions with Connect
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/subscriptions/multiplan.html" class=" " title="Subscriptions with multiple plans" aria-label="Subscriptions with multiple plans">
        Subscriptions with multiple plans
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/subscription-schedules.html" class=" " title="Subscription schedules" aria-label="Subscription schedules">
        Subscription schedules
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/subscription-schedules/use-cases.html" class=" " title="Use cases" aria-label="Use cases">
        Use cases
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/tiers.html" class=" " title="Tiered pricing" aria-label="Tiered pricing">
        Tiered pricing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/quantity-transformation.html" class=" " title="Quantity transformation" aria-label="Quantity transformation">
        Quantity transformation
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/trials.html" class=" " title="Using trial periods" aria-label="Using trial periods">
        Using trial periods
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../subscriptions/testing.html" class=" " aria-label="Testing Billing" title="Testing Billing">
        Testing
      </a>
    </li>
    <li class="category ">Add payment methods
    </li>
    <li class="sidebar-item ">
      <a href="https://stripe.com/docs/billing/subscriptions/au-becs-debit" class=" " title="BECS Direct Debit in Australia" aria-label="BECS Direct Debit in Australia">
        BECS Direct Debit in Australia
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/subscriptions/sepa-debit.html" class=" " title="SEPA Direct Debit in the EU" aria-label="SEPA Direct Debit in the EU">
        SEPA Direct Debit in the EU
      </a>
    </li>
    <li class="category ">Invoice customers
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/invoices/workflow.html" class=" " title="How invoices work" aria-label="How invoices work">
        How invoices work
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/invoices/one-off.html" class=" " aria-label="Create an invoice and bill a customer" title="Create an invoice and bill a customer">
        Create an invoice
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/invoices/customizing.html" class=" " title="Customize invoices" aria-label="Customize invoices">
        Customize invoices
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../subscriptions/invoices.html" class=" " title="Subscription invoices" aria-label="Subscription invoices">
        Subscription invoices
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/paying.html" class=" " title="Charging automatically" aria-label="Charging automatically">
        Charging automatically
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/sending.html" class=" " title="Sending invoices to customers" aria-label="Sending invoices to customers">
        Sending invoices to customers
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/tax-rates.html" class=" " title="Tax rates on invoices" aria-label="Tax rates on invoices">
        Tax rates on invoices
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/reconciliation.html" class=" " title="Automated reconciliation" aria-label="Automated reconciliation">
        Automated reconciliation
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/credit-notes.html" class=" " title="Credit notes" aria-label="Credit notes">
        Credit notes
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/invoices/paper-check-payment.html" class=" " title="Pay by mailed check" aria-label="Pay by mailed check">
        Pay by mailed check
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/automatic-collection.html" class=" " title="Automatic collection and dunning" aria-label="Automatic collection and dunning">
        Automatic collection and dunning
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/taxes/tax-ids.html" class=" " title="Customer tax IDs" aria-label="Customer tax IDs">
        Customer tax IDs
      </a>
    </li>
    <li class="sidebar-item hidden">
      <a href="../../billing/taxes/tax-rates.html" class=" " title="Tax rates" aria-label="Tax rates">
        Tax rates
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/invoices/hosted.html" class=" " title="Hosted invoice pages" aria-label="Hosted invoice pages">
        Hosted invoice pages
      </a>
    </li>
    <li class="category ">Revenue recognition
    </li>
    <li class="sidebar-item ">
      <a href="../../billing/revenue-recognition.html" class=" " title="Overview" aria-label="Overview">
        Overview
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/connect">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header connect">
          <a class="">
            Connect
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../connect.html" class=" " aria-label="Connect overview" title="Connect overview">
        Overview
      </a>
    </li>
    <li class="category ">Guides
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/collect-then-transfer-guide/payments.html" class=" " title="Collect payments then pay out" aria-label="Collect payments then pay out">
        Collect payments then pay out
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/enable-payment-acceptance-guide.html" class=" " title="Enable other businesses to accept payments directly" aria-label="Enable other businesses to accept payments directly">
        Enable other businesses to accept payments directly
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/add-and-pay-out-guide.html" class=" " title="Pay out money" aria-label="Pay out money">
        Pay out money
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/explore-connect-guide.html" class=" " title="Explore Connect" aria-label="Explore Connect">
        Explore Connect
      </a>
    </li>
    <li class="category ">Capabilities
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/capabilities-overview.html" class=" " aria-label="Capabilities overview" title="Capabilities overview">
        Overview
      </a>
    </li>
    <li class="category ">Account types
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/accounts.html" class=" " aria-label="Connect account types" title="Connect account types">
        Accounts overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/standard-accounts.html" class=" " aria-label="Using Connect with Standard accounts" title="Using Connect with Standard accounts">
        Standard
      </a>
      <ul class=" ">
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../connect/express-accounts.html" class=" " aria-label="Using Connect with Express accounts" title="Using Connect with Express accounts">
        Express
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/custom-accounts.html" class=" " aria-label="Using Connect with Custom accounts" title="Using Connect with Custom accounts">
        Custom
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../connect/connect-onboarding.html" class=" " aria-label="Overview of Connect onboarding for Custom accounts" title="Overview of Connect onboarding for Custom accounts">
        Onboarding accounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/updating-accounts.html" class=" " aria-label="Updating accounts and Services Agreement Acceptance" title="Updating accounts and Services Agreement Acceptance">
        Updating accounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/identity-verification.html" class=" " aria-label="Identity verification for Custom accounts" title="Identity verification for Custom accounts">
        Identity verification
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/identity-verification-api.html" class=" " aria-label="Handling verification with the API for Custom accounts" title="Handling verification with the API for Custom accounts">
        Handling verification with the API
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/required-verification-information.html" class=" " aria-label="Required verification information" title="Required verification information">
        Required info
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/account-tokens.html" class=" " aria-label="Using tokens" title="Using tokens">
        Using tokens
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/setting-mcc.html" class=" " aria-label="Setting merchant category codes" title="Setting merchant category codes">
        Setting MCCs
      </a>
    </li>
</ul>

    </li>
    <li class="category ">Processing Payments
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/charges.html" class=" " title="Creating charges" aria-label="Creating charges">
        Creating charges
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../connect/direct-charges.html" class=" " aria-label="Creating direct charges" title="Creating direct charges">
        Direct charges
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/destination-charges.html" class=" " aria-label="Creating Destination Charges on Your Platform" title="Creating Destination Charges on Your Platform">
        Destination charges
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/charges-transfers.html" class=" " aria-label="Creating separate charges and transfers (Public Beta)" title="Creating separate charges and transfers (Public Beta)">
        Separate charges and transfers
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/statement-descriptors.html" class=" " aria-label="Setting Statement Descriptors with Connect" title="Setting Statement Descriptors with Connect">
        Statement descriptors
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../connect/top-ups.html" class=" " aria-label="Topping up your platform account" title="Topping up your platform account">
        Top-ups
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/account-debits.html" class=" " aria-label="Debiting Express and Custom accounts (Public Beta)" title="Debiting Express and Custom accounts (Public Beta)">
        Account debits
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/subscriptions.html" class=" " title="Creating subscriptions" aria-label="Creating subscriptions">
        Creating subscriptions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/currencies.html" class=" " aria-label="Working with multiple currencies" title="Working with multiple currencies">
        Multiple currencies
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/account-balances.html" class=" " aria-label="Understanding Connect account balances" title="Understanding Connect account balances">
        Account balances
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/payouts.html" class=" " aria-label="Setting bank and debit card payouts" title="Setting bank and debit card payouts">
        Payouts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/cloning-saved-payment-methods.html" class=" " aria-label="Reusing customers" payment information across connected accounts title="Reusing customers">
        Cloning saved payment methods
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../connect/best-practices.html" class=" " aria-label="Best practices for platforms with Express or Custom accounts" title="Best practices for platforms with Express or Custom accounts">
        Best practices
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/dashboard.html" class=" " aria-label="Managing connected accounts with the Dashboard" title="Managing connected accounts with the Dashboard">
        Dashboard account management
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../connect/dashboard/viewing-all-accounts.html" class=" " aria-label="Viewing all accounts" title="Viewing all accounts">
        Viewing all accounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/dashboard/managing-individual-accounts.html" class=" " aria-label="Managing individual accounts" title="Managing individual accounts">
        Managing individual accounts
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../connect/authentication.html" class=" " aria-label="Authenticating and making API calls as a connected account" title="Authenticating and making API calls as a connected account">
        Making API calls for connected accounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/oauth-reference.html" class=" " aria-label="Connect OAuth reference" title="Connect OAuth reference">
        OAuth reference
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/webhooks.html" class=" " aria-label="Connect webhooks" title="Connect webhooks">
        Webhooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../connect/testing.html" class=" " aria-label="Testing with Connect" title="Testing with Connect">
        Testing
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/payments/checkout">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header checkout">
          <a class="">
            Checkout
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../checkout.html" class=" " title="Overview" aria-label="Overview">
        Overview
      </a>
    </li>
    <li class="category ">One-time payments
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/accept-a-payment.html" class=" " title="Accept a payment" aria-label="Accept a payment">
        Accept a payment
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/payment-methods.html" class=" " title="Payment method details" aria-label="Payment method details">
        Payment method details
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/collecting.html" class=" " title="Set up future payments" aria-label="Set up future payments">
        Set up future payments
      </a>
    </li>
    <li class="category ">Subscriptions
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/subscriptions.html" class=" " title="Set up a subscription" aria-label="Set up a subscription">
        Set up a subscription
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/subscriptions/update-payment-details.html" class=" " title="Update payment details" aria-label="Update payment details">
        Update payment details
      </a>
    </li>
    <li class="category ">Go Live
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/customization.html" class=" " title="Customize your integration" aria-label="Customize your integration">
        Customize your integration
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/live.html" class=" " title="Integration checklist" aria-label="Integration checklist">
        Integration checklist
      </a>
    </li>
    <li class="category ">Client-only Integration
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/client.html" class=" " title="One-time payments" aria-label="One-time payments">
        One-time payments
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/client-subscription.html" class=" " title="Subscriptions" aria-label="Subscriptions">
        Subscriptions
      </a>
    </li>
    <li class="category ">Upgrade your integration
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/migration.html" class=" " title="Migrate from legacy Checkout" aria-label="Migrate from legacy Checkout">
        Migrate from legacy Checkout
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../checkout/migrating-prices.html" class=" " title="Migrate to use Prices" aria-label="Migrate to use Prices">
        Migrate to use Prices
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/sigma">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header sigma">
          <a class="">
            Sigma
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../sigma.html" class=" " aria-label="Stripe Sigma overview" title="Stripe Sigma overview">
        Overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sigma/transactions.html" class=" " aria-label="Querying transactions" title="Querying transactions">
        Transactions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sigma/billing.html" class=" " aria-label="Querying Billing" title="Querying Billing">
        Billing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sigma/connect.html" class=" " aria-label="Stripe Sigma for Connect platforms" title="Stripe Sigma for Connect platforms">
        Connect
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../sigma/scheduled-queries.html" class=" " title="Scheduled queries" aria-label="Scheduled queries">
        Scheduled queries
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/atlas">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header atlas">
          <a class="">
            Atlas
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../atlas.html" class=" " aria-label="Stripe Atlas overview" title="Stripe Atlas overview">
        Overview
      </a>
    </li>
    <li class="category ">Company formation
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/company-types.html" class=" " aria-label="Stripe Atlas company types" title="Stripe Atlas company types">
        Company types
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/application.html" class=" " aria-label="Stripe Atlas application process" title="Stripe Atlas application process">
        Stripe Atlas application
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/issuing-stock.html" class=" " aria-label="Issuing stock to founders using Stripe Atlas" title="Issuing stock to founders using Stripe Atlas">
        Issuing stock to founders
      </a>
    </li>
    <li class="category ">Post company formation
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html" class=" " aria-label="Stripe Atlas next steps" title="Stripe Atlas next steps">
        Next steps
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#payments" class=" " aria-label="Stripe payments account" title="Stripe payments account">
        Stripe payments
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#bank-account" class=" " aria-label="Business bank account" title="Business bank account">
        Business bank account
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#the-atlas-forum" class=" " aria-label="Stripe Atlas Community" title="Stripe Atlas Community">
        Stripe Atlas Community
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#additional-resources" class=" " aria-label="Additional Stripe Atlas resources" title="Additional Stripe Atlas resources">
        Additional resources
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#partner-benefits" class=" " aria-label="Stripe Atlas partner benefits" title="Stripe Atlas partner benefits">
        Partner benefits
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#agent" class=" " aria-label="Stripe Atlas Registered Agent service" title="Stripe Atlas Registered Agent service">
        Registered Agent service
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#legal" class=" " aria-label="Legal resources" title="Legal resources">
        Legal
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#bookkeeping" class=" " aria-label="Bookkeeping resources" title="Bookkeeping resources">
        Bookkeeping
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../atlas/next.html#taxes" class=" " aria-label="Taxes resources" title="Taxes resources">
        Taxes
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/radar">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header radar">
          <a class="">
            Radar
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../radar.html" class=" " aria-label="Stripe Radar overview" title="Stripe Radar overview">
        Overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../radar/risk-evaluation.html" class=" " title="Risk evaluation" aria-label="Risk evaluation">
        Risk evaluation
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../radar/risk-settings.html" class=" " title="Risk settings" aria-label="Risk settings">
        Risk settings
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../radar/reviews.html" class=" " title="Reviews" aria-label="Reviews">
        Reviews
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../radar/reviews/auth-and-capture.html" class=" " aria-label="Reviewing uncaptured payments" title="Reviewing uncaptured payments">
        Uncaptured payments
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../radar/lists.html" class=" " title="Lists" aria-label="Lists">
        Lists
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../radar/rules.html" class=" " title="Rules" aria-label="Rules">
        Rules
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../radar/rules/reference.html" class=" " aria-label="Rules Reference" title="Rules Reference">
        Reference
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../radar/testing.html" class=" " aria-label="Testing Stripe Radar" title="Testing Stripe Radar">
        Testing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../radar/checklist.html" class=" " aria-label="Radar integration checklist" title="Radar integration checklist">
        Checklist
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../disputes.html" class=" " title="Disputes and fraud" aria-label="Disputes and fraud">
        Disputes and fraud
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../disputes/how-disputes-work.html" class=" " title="How disputes work" aria-label="How disputes work">
        How disputes work
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/responding.html" class=" " title="Responding to disputes" aria-label="Responding to disputes">
        Responding to disputes
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../disputes/api.html" class=" " title="Using the API" aria-label="Using the API">
        Using the API
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/categories.html" class=" " title="Categories" aria-label="Categories">
        Categories
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/withdrawing.html" class=" " title="Dispute withdrawals" aria-label="Dispute withdrawals">
        Dispute withdrawals
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/prevention.html" class=" " title="Fraud prevention" aria-label="Fraud prevention">
        Fraud prevention
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../disputes/prevention/identifying-fraud.html" class=" " title="Identifying fraud" aria-label="Identifying fraud">
        Identifying fraud
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/prevention/fraud-types.html" class=" " title="Types of fraud" aria-label="Types of fraud">
        Types of fraud
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/prevention/verification.html" class=" " title="Verification checks" aria-label="Verification checks">
        Verification checks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/prevention/best-practices.html" class=" " title="Best practices" aria-label="Best practices">
        Best practices
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/prevention/advanced-fraud-detection.html" class=" " title="Advanced fraud detection" aria-label="Advanced fraud detection">
        Advanced fraud detection
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/measuring.html" class=" " title="Measuring disputes" aria-label="Measuring disputes">
        Measuring disputes
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/connect.html" class=" " title="Disputes on Connect" aria-label="Disputes on Connect">
        Disputes on Connect
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/monitoring-programs.html" class=" " title="Monitoring programs" aria-label="Monitoring programs">
        Monitoring programs
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../disputes/monitoring-programs/faqs.html" class=" " title="FAQs" aria-label="FAQs">
        FAQs
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../disputes/match.html" class=" " title="High risk merchant lists" aria-label="High risk merchant lists">
        High risk merchant lists
      </a>
    </li>
</ul>

    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/issuing">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header issuing">
          <a class="">
            Issuing
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../issuing.html" class=" " aria-label="Issuing overview (Invite only)" title="Issuing overview (Invite only)">
        Overview
      </a>
    </li>
    <li class="category ">Getting started
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/cards.html" class=" " title="Creating cards" aria-label="Creating cards">
        Creating cards
      </a>
    </li>
    <li class="category ">Cards
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/cards/virtual.html" class=" " title="Virtual cards" aria-label="Virtual cards">
        Virtual cards
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/cards/physical.html" class=" " title="Physical cards" aria-label="Physical cards">
        Physical cards
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/cards/digital-wallets.html" class=" " title="Digital wallets" aria-label="Digital wallets">
        Digital wallets
      </a>
    </li>
    <li class="category ">Controls
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/controls/spending-controls.html" class=" " title="Spending controls" aria-label="Spending controls">
        Spending controls
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/controls/real-time-authorizations.html" class=" " title="Real-time authorizations" aria-label="Real-time authorizations">
        Real-time authorizations
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/controls/fraud-protection.html" class=" " title="Fraud protection" aria-label="Fraud protection">
        Fraud protection
      </a>
    </li>
    <li class="category ">Funding
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/funding/balance.html" class=" " title="Balance" aria-label="Balance">
        Balance
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/funding/connect.html" class=" " title="Connect" aria-label="Connect">
        Connect
      </a>
    </li>
    <li class="category ">Purchases
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/purchases/authorizations.html" class=" " title="Authorizations" aria-label="Authorizations">
        Authorizations
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/transactions.html" class=" " title="Transactions" aria-label="Transactions">
        Transactions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/purchases/disputes.html" class=" " title="Disputes" aria-label="Disputes">
        Disputes
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../issuing/testing.html" class=" " aria-label="Testing Stripe Issuing" title="Testing Stripe Issuing">
        Testing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../issuing/categories.html" class=" " title="Merchant categories" aria-label="Merchant categories">
        Merchant categories
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/terminal">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header terminal">
          <a class="">
            Terminal
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../terminal.html" class=" " aria-label="Stripe Terminal overview" title="Stripe Terminal overview">
        Overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/example-applications.html" class=" " aria-label="Example applications" title="Example applications">
        Example applications
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/designing-integration.html" class=" " aria-label="Learn which SDK and reader works best for you" title="Learn which SDK and reader works best for you">
        Designing an integration
      </a>
    </li>
    <li class="category ">Getting started
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/sdk/js.html" class=" " aria-label="Getting started with the JavaScript SDK" title="Getting started with the JavaScript SDK">
        JavaScript
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../terminal/js-api-reference.html" class=" " aria-label="API reference for the JavaScript SDK" title="API reference for the JavaScript SDK">
        JavaScript API reference
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/sdk/ios.html" class=" " aria-label="Getting started with the iOS SDK" title="Getting started with the iOS SDK">
        iOS
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/sdk/android.html" class=" " aria-label="Getting started with the Android SDK" title="Getting started with the Android SDK">
        Android
      </a>
    </li>
    <li class="category ">Readers
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers.html" class=" " aria-label="See reader types and learn how to set them up" title="See reader types and learn how to set them up">
        Reader setup
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../terminal/readers/bbpos-chipper2xbt.html" class=" " aria-label="The mobile POS reader" title="The mobile POS reader">
        BBPOS Chipper 2X BT
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers/verifone-p400.html" class=" " aria-label="The countertop, internet-enabled reader" title="The countertop, internet-enabled reader">
        Verifone P400
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers/connecting.html" class=" " aria-label="How to connect your app to a reader" title="How to connect your app to a reader">
        Connecting to a reader
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../terminal/readers/connecting/bbpos-chipper2xbt.html" class=" " aria-label="The mobile POS reader" title="The mobile POS reader">
        BBPOS Chipper 2X BT
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers/connecting/verifone-p400.html" class=" " aria-label="The countertop, internet-enabled reader" title="The countertop, internet-enabled reader">
        Verifone P400
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers/fleet-management.html" class=" " aria-label="Managing readers across several locations" title="Managing readers across several locations">
        Fleet management
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/readers/placing-orders.html" class=" " aria-label="Order readers from the Dashboard" title="Order readers from the Dashboard">
        Placing orders
      </a>
    </li>
    <li class="category ">Transactions
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/payments.html" class=" " aria-label="Collecting payments with Terminal" title="Collecting payments with Terminal">
        Collecting payments
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/payments/connect.html" class=" " aria-label="Using Terminal with Connect" title="Using Terminal with Connect">
        Connect platforms
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/payments/saving-cards.html" class=" " aria-label="Using Terminal with online payments" title="Using Terminal with online payments">
        Saving cards
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/payments/refunds.html" class=" " aria-label="Using Terminal to issue refunds" title="Using Terminal to issue refunds">
        Refunds
      </a>
    </li>
    <li class="category ">Checkout experience
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/checkout/cart-display.html" class=" " aria-label="Displaying cart details" title="Displaying cart details">
        Cart display
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/checkout/receipts.html" class=" " aria-label="Providing receipts with Terminal" title="Providing receipts with Terminal">
        Receipts
      </a>
    </li>
    <li class="category ">Global
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/canada.html" class=" " aria-label="Learn about collecting payments with Stripe Terminal in Canada" title="Learn about collecting payments with Stripe Terminal in Canada">
        Canada
      </a>
    </li>
    <li class="category ">Beta
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/beta-migration-guide.html" class=" " aria-label="Learn how to migrate from the Stripe Terminal beta" title="Learn how to migrate from the Stripe Terminal beta">
        Beta migration guide
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../terminal/testing.html" class=" " aria-label="Testing Stripe Terminal" title="Testing Stripe Terminal">
        Testing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../terminal/checklist.html" class=" " aria-label="Terminal integration checklist" title="Terminal integration checklist">
        Checklist
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/capital/faqs">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header capital">
          <a class="">
            Capital
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../capital/faqs.html" class=" " aria-label="Frequently asked questions" title="Frequently asked questions">
        Frequently asked questions
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/corporate-card">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header corporatecard">
          <a class="">
            Corporate Card
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../corporate-card.html" class=" " aria-label="Stripe Corporate Card Overview (Invite only)" title="Stripe Corporate Card Overview (Invite only)">
        Overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/applying.html" class=" " aria-label="Applying for Corporate Card" title="Applying for Corporate Card">
        Applying for Corporate Card
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/new-cards.html" class=" " aria-label="Creating new cards" title="Creating new cards">
        Creating new cards
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/rewards-and-benefits.html" class=" " aria-label="Rewards and benefits" title="Rewards and benefits">
        Rewards and benefits
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/dashboard.html" class=" " aria-label="Understanding the dashboard" title="Understanding the dashboard">
        Understanding the dashboard
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/card-management.html" class=" " aria-label="Card management" title="Card management">
        Card management
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../corporate-card/faqs.html" class=" " aria-label="Frequently asked questions" title="Frequently asked questions">
        Frequently asked questions
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/identity">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header identity">
          <a class="">
            Identity
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../identity.html" class=" " title="Overview" aria-label="Overview">
        Overview
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/dashboard">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header dashboard">
          <a class="">
            Dashboard
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../dashboard.html" class=" " aria-label="Dashboard overview" title="Dashboard overview">
        Overview
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../dashboard/search.html" class=" " aria-label="Performing searches in the Dashboard" title="Performing searches in the Dashboard">
        Search
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../dashboard/teams.html" class=" " aria-label="Teams and user roles" title="Teams and user roles">
        Teams
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../dashboard/sso.html" class=" " aria-label="Single sign-on" title="Single sign-on">
        Single sign-on
      </a>
      <ul class=" ">
</ul>

    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/account">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header account">
          <a class="">
            Account
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../account.html" class=" " aria-label="Managing your account" title="Managing your account">
        Your account
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../multiple-accounts.html" class=" " title="Multiple accounts" aria-label="Multiple accounts">
        Multiple accounts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../statement-descriptors.html" class=" " title="Statement descriptors" aria-label="Statement descriptors">
        Statement descriptors
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../checklist.html" class=" " aria-label="Account checklist" title="Account checklist">
        Checklist
      </a>
    </li>
    <li class="category ">Customer emails
    </li>
    <li class="sidebar-item ">
      <a href="../../email-domain.html" class=" " aria-label="Configure your sending domain for customer emails" title="Configure your sending domain for customer emails">
        Email domain
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/development">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header api">
          <a class="">
            Development
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../development.html" class=" " aria-label="Development quickstart" title="Development quickstart">
        Quickstart
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../security.html" class=" " aria-label="Integration security guide" title="Integration security guide">
        Security
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../security/data-migrations.html" class=" " aria-label="Data migrations at Stripe" title="Data migrations at Stripe">
        Data migrations
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../webhooks.html" class=" " title="Webhooks" aria-label="Webhooks">
        Webhooks
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../webhooks/build.html" class=" " aria-label="Build a webhook endpoint" title="Build a webhook endpoint">
        Build webhooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../webhooks/test.html" class=" " aria-label="Test a webhook endpoint" title="Test a webhook endpoint">
        Test webhooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../webhooks/signatures.html" class=" " aria-label="Check the webhook signatures" title="Check the webhook signatures">
        Check signatures
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../webhooks/best-practices.html" class=" " aria-label="Best practices for using webhooks" title="Best practices for using webhooks">
        Best practices
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../webhooks/go-live.html" class=" " aria-label="Take webhooks live" title="Take webhooks live">
        Go live
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../file-upload.html" class=" " title="File uploads" aria-label="File uploads">
        File uploads
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../error-handling.html" class=" " title="Error handling" aria-label="Error handling">
        Error handling
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../error-codes.html" class=" " title="Error codes" aria-label="Error codes">
        Error codes
      </a>
    </li>
    <li class="category ">API
    </li>
    <li class="sidebar-item ">
      <a href="../../keys.html" class=" " aria-label="API keys" title="API keys">
        Keys
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../libraries.html" class=" " aria-label="API libraries" title="API libraries">
        Libraries
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../upgrades.html" class=" " aria-label="API upgrades" title="API upgrades">
        Upgrades
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../rate-limits.html" class=" " aria-label="Rate limits" title="Rate limits">
        Rate limits
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../card-testing.html" class=" " aria-label="Card testing" title="Card testing">
        Card testing
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../ips.html" class=" " aria-label="Domains and IP addresses" title="Domains and IP addresses">
        Domains and IP addresses
      </a>
    </li>
    <li class="category ">Building With Stripe
    </li>
    <li class="sidebar-item ">
      <a href="../../stripe-js.html" class=" " aria-label="Our UI components and how to use them" title="Our UI components and how to use them">
        Stripe's UI libraries
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../stripe-js/react.html" class=" " aria-label="React Stripe.js reference" title="React Stripe.js reference">
        React Stripe.js
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../mobile/ios/standard.html" class=" " aria-label="Use our basic iOS integration" title="Use our basic iOS integration">
        Prebuilt iOS UI
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../mobile/android/standard.html" class=" " aria-label="Use our basic Android integration" title="Use our basic Android integration">
        Prebuilt Android UI
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../stripe-cli.html" class=" " title="Stripe CLI" aria-label="Stripe CLI">
        Stripe CLI
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../stripe-cli/webhooks.html" class=" " aria-label="Listen to webhooks with the Stripe CLI" title="Listen to webhooks with the Stripe CLI">
        Listen to webhooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../stripe-cli/test/index.html" class=" " aria-label="Test and monitor your integration with the Stripe CLI" title="Test and monitor your integration with the Stripe CLI">
        Test and monitor your integration
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../stripe-cli/configure.html" class=" " aria-label="Configure the Stripe CLI" title="Configure the Stripe CLI">
        Configure
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../cli.html" class=" " aria-label="Stripe CLI reference" title="Stripe CLI reference">
        Reference
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../building-extensions.html" class=" " aria-label="Building extensions" title="Building extensions">
        Extensions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins.html" class=" " aria-label="Use a Stripe plugin in your website platform" title="Use a Stripe plugin in your website platform">
        Plugins
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../building-plugins.html" class=" " title="Building plugins" aria-label="Building plugins">
        Building plugins
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/wordpress.html" class=" " aria-label="Stripe plugin for WordPress" title="Stripe plugin for WordPress">
        WordPress
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/drupal.html" class=" " aria-label="Stripe plugin for Drupal" title="Stripe plugin for Drupal">
        Drupal
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/magento.html" class=" " aria-label="Magento 2 Plugin" title="Magento 2 Plugin">
        Magento
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../plugins/magento/install.html" class=" " aria-label="Installing the Magento 2 plugin" title="Installing the Magento 2 plugin">
        Installation
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/magento/configuration.html" class=" " aria-label="Configuring the Magento 2 plugin" title="Configuring the Magento 2 plugin">
        Configuration
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/magento/subscriptions.html" class=" " aria-label="Using subscriptions with the Magento 2 plugin" title="Using subscriptions with the Magento 2 plugin">
        Using subscriptions
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../magento/admin.html" class=" " aria-label="Using the Magento Admin Panel" title="Using the Magento Admin Panel">
        Using the Admin Panel
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../magento/troubleshooting.html" class=" " aria-label="Troubleshooting the Magento 2 plugin" title="Troubleshooting the Magento 2 plugin">
        Troubleshooting
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/salesforce-commerce-cloud.html" class=" " aria-label="Stripe plugin for Salesforce Commerce Cloud" title="Stripe plugin for Salesforce Commerce Cloud">
        Salesforce Commerce Cloud
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/joomla.html" class=" " aria-label="Stripe plugin for Joomla" title="Stripe plugin for Joomla">
        Joomla
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl.html" class=" " aria-label="Mirakl Connector" title="Mirakl Connector">
        Mirakl
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/configuration.html" class=" " aria-label="Configure the Mirakl Connector" title="Configure the Mirakl Connector">
        Configuration
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/install.html" class=" " aria-label="Install the Mirakl Connector" title="Install the Mirakl Connector">
        Installation
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/onboarding-sellers.html" class=" " aria-label="Onboard your Mirakl Sellers" title="Onboard your Mirakl Sellers">
        Onboarding sellers
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/payments.html" class=" " aria-label="Accept payments for your Mirakl Orders" title="Accept payments for your Mirakl Orders">
        Payments
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/payouts.html" class=" " aria-label="Pay your Mirakl Sellers out" title="Pay your Mirakl Sellers out">
        Payouts
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../plugins/mirakl/reference.html" class=" " aria-label="Mirakl Connector reference" title="Mirakl Connector reference">
        Reference
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="https://stripe.com/partners/apps-and-extensions/collection/e-commerce" class=" external" target="blank" aria-label="Full list of Stripe partners" title="Full list of Stripe partners">
        No coding required
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="https://github.com/stripe-samples" class=" external" aria-label="Sample integrations built by Stripe" title="Sample integrations built by Stripe">
        Samples
      </a>
    </li>
    <li class="sidebar-item separator">
      <a href="../../development/checklist.html" class=" " aria-label="Development checklist" title="Development checklist">
        Checklist
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../checklist/website.html" class=" " aria-label="Website checklist" title="Website checklist">
        Website checklist
      </a>
    </li>
</ul>

    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/reports/financial-reports">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header reporting">
          <a class="">
            Reports
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../dashboard/reporting.html" class=" " title="Financial reports" aria-label="Financial reports">
        Financial reports
      </a>
      <ul class=" ">
    <li class="sidebar-item ">
      <a href="../../reports/financial-reports/report-schemas.html" class=" " title="Report schemas" aria-label="Report schemas">
        Report schemas
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../reports/financial-reports/api.html" class=" " title="Report API" aria-label="Report API">
        Report API
      </a>
    </li>
</ul>

    </li>
    <li class="sidebar-item ">
      <a href="../../reports/quickbooks.html" class=" " aria-label="Export account activity to QuickBooks" title="Export account activity to QuickBooks">
        QuickBooks
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../reports/custom-reports.html" class=" " title="Custom reports" aria-label="Custom reports">
        Custom reports
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../reports/balance-transaction-types.html" class=" " title="Balance transaction types" aria-label="Balance transaction types">
        Balance transaction types
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../reporting/reporting-categories.html" class=" " title="Reporting categories" aria-label="Reporting categories">
        Reporting categories
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../reports/netsuite-connector.html" class=" " title="Stripe Connector for NetSuite" aria-label="Stripe Connector for NetSuite">
        Stripe Connector for NetSuite
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/partners">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header partners">
          <a class="">
            Partners
          </a>
        </h1>
        <ul class=" always-expanded">
    <li class="sidebar-item ">
      <a href="../../partners.html" class=" " aria-label="Understanding the Stripe Partner Program" title="Understanding the Stripe Partner Program">
        Partner Program basics
      </a>
    </li>
    <li class="category ">Verified Partner
    </li>
    <li class="sidebar-item ">
      <a href="../../partners/requirements.html" class=" " aria-label="Verified partner requirements" title="Verified partner requirements">
        Verified partner requirements
      </a>
    </li>
    <li class="sidebar-item ">
      <a href="../../partners/apps-and-extensions.html" class=" " aria-label="Partner gallery listing" title="Partner gallery listing">
        Partner gallery listing
      </a>
    </li>
    <li class="category ">Verification
    </li>
    <li class="sidebar-item ">
      <a href="../../partners/verification.html" class=" " aria-label="Learn About the Stripe Service Partner Verification Program" title="Learn About the Stripe Service Partner Verification Program">
        Service Partner Verification
      </a>
    </li>
</ul>

      </div>
      <div class="section " data-section-id="/docs/api">
        <a href="../../recipes/switching-to-stripe.html" class="back">Home</a>
        <h1 class="section-header references">
          <a class="external">
            API Reference
          </a>
        </h1>
        
      </div>
  </div>
</nav>


  <div class="countries-container">
          <h1 class="country-selected">
  <a href="javascript:void(0);" class="item-country-selected">United States</a>
  <div class="popup available-country-list">
    <ul class="optionList">
      <li>
        <a class="" href="https://stripe.com/country?country=AU&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--au"></div>
          <div>
            <span class="country-name">
              Australia
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=AT&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--at"></div>
          <div>
            <span class="country-name">
              Austria
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=BE&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--be"></div>
          <div>
            <span class="country-name">
              Belgium
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=BG&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--bg"></div>
          <div>
            <span class="country-name">
              Bulgaria
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=CA&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--ca"></div>
          <div>
            <span class="country-name">
              Canada
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=CY&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--cy"></div>
          <div>
            <span class="country-name">
              Cyprus
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=CZ&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--cz"></div>
          <div>
            <span class="country-name">
              Czech Republic
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=DK&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--dk"></div>
          <div>
            <span class="country-name">
              Denmark
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=EE&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--ee"></div>
          <div>
            <span class="country-name">
              Estonia
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=FI&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--fi"></div>
          <div>
            <span class="country-name">
              Finland
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=FR&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--fr"></div>
          <div>
            <span class="country-name">
              France
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=DE&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--de"></div>
          <div>
            <span class="country-name">
              Germany
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=GR&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--gr"></div>
          <div>
            <span class="country-name">
              Greece
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=HK&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--hk"></div>
          <div>
            <span class="country-name">
              Hong Kong
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=IN&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--in"></div>
          <div>
            <span class="country-name">
              India
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=IE&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--ie"></div>
          <div>
            <span class="country-name">
              Ireland
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=IT&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--it"></div>
          <div>
            <span class="country-name">
              Italy
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=JP&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--jp"></div>
          <div>
            <span class="country-name">
              Japan
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=LV&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--lv"></div>
          <div>
            <span class="country-name">
              Latvia
            </span>
          </div>
        </a>
      </li>
    </ul>
    <ul class="optionList">
      <li>
        <a class="" href="https://stripe.com/country?country=LT&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--lt"></div>
          <div>
            <span class="country-name">
              Lithuania
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=LU&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--lu"></div>
          <div>
            <span class="country-name">
              Luxembourg
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=MY&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--my"></div>
          <div>
            <span class="country-name">
              Malaysia
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=MT&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--mt"></div>
          <div>
            <span class="country-name">
              Malta
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=MX&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--mx"></div>
          <div>
            <span class="country-name">
              Mexico
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=NL&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--nl"></div>
          <div>
            <span class="country-name">
              Netherlands
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=NZ&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--nz"></div>
          <div>
            <span class="country-name">
              New Zealand
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=NO&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--no"></div>
          <div>
            <span class="country-name">
              Norway
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=PL&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--pl"></div>
          <div>
            <span class="country-name">
              Poland
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=PT&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--pt"></div>
          <div>
            <span class="country-name">
              Portugal
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=RO&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--ro"></div>
          <div>
            <span class="country-name">
              Romania
            </span>
              <em class="badge">Preview</em>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=SG&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--sg"></div>
          <div>
            <span class="country-name">
              Singapore
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=SK&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--sk"></div>
          <div>
            <span class="country-name">
              Slovakia
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=SI&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--si"></div>
          <div>
            <span class="country-name">
              Slovenia
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=ES&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--es"></div>
          <div>
            <span class="country-name">
              Spain
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=SE&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--se"></div>
          <div>
            <span class="country-name">
              Sweden
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=CH&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--ch"></div>
          <div>
            <span class="country-name">
              Switzerland
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class="" href="https://stripe.com/country?country=GB&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--gb"></div>
          <div>
            <span class="country-name">
              United Kingdom
            </span>
          </div>
        </a>
      </li>
      <li>
        <a class=" selected" href="https://stripe.com/country?country=US&amp;redirect=/docs/payments/payment-intents/migration" rel="nofollow">
          <div class="common-FlagIcon common-FlagIcon--us"></div>
          <div>
            <span class="country-name">
              United States
            </span>
          </div>
        </a>
      </li>
    </ul>
  </div>
</h1>

        <h1 class="language js-language-selector">
  <a href="javascript:void(0);" class="item-language">English</a>
  <div class="popup language-list">
    <ul class="optionList">
        <li>
          <a data-language="de" href="migration.html#" rel="nofollow"><span>Deutsch</span>
          </a>
        </li>
        <li>
          <a data-language="en" href="migration.html#" rel="nofollow" class="selected"><span>English</span>
          </a>
        </li>
        <li>
          <a data-language="es" href="migration.html#" rel="nofollow"><span>Espa&ntilde;ol (Espa&ntilde;a)</span>
          </a>
        </li>
        <li>
          <a data-language="fr" href="migration.html#" rel="nofollow"><span>Fran&ccedil;ais</span>
          </a>
        </li>
        <li>
          <a data-language="it" href="migration.html#" rel="nofollow"><span>Italiano</span>
          </a>
        </li>
        <li>
          <a data-language="ja" href="migration.html#" rel="nofollow"><span>&#26085;&#26412;&#35486;</span>
          </a>
        </li>
        <li>
          <a data-language="zh-CN" href="migration.html#" rel="nofollow"><span>&#31616;&#20307;&#20013;&#25991;</span>
          </a>
        </li>
    </ul>
  </div>
</h1>

    
  <h1 class="account"><a id="docs-sidebar-dashboard-link" href="https://dashboard.stripe.com/login?redirect=https%3A%2F%2Fstripe.com%2Fdocs%2Fpayments%2Fpayment-intents%2Fmigration">Sign In &rarr;</a></h1>

  </div>


        </div>
        <div id="content-wrapper" tabindex="0" class=" ">
          <div class="overlay"></div>
            <div class="search-results">
              <ul class="results"></ul>
            </div>
            <form class="search">
              <input type="search" placeholder="Search documentation...">
              <div class="search-after">
                <span class="search-text"></span>
                <span class="search-after-text--no-results">&mdash; No Results</span>
              </div>
            </form>
          


          <div class="article-container">
            <article id="content">
                
  <header>
  <a name="//apple_ref/cpp/Section/Top" class="dashAnchor"></a><h1 id="migrating-to-payment-intents">Migrating to Payment Intents</h1>

  <p>Learn how to migrate your existing cards and Charges API integration.</p>

  <aside class="important neutral">
    <p>If your integration controls when funds move (e.g., waits for the response from the client before finalizing the payment on the server), you can use the <a href="migration-synchronous.html">server-side confirmation guide</a> (with some limitations).</p>
  </aside>
</header>

<section>
  <a id="strategy-for-migration" name="//apple_ref/cpp/Section/Strategy%20for%20migration" class="dashAnchor"></a><h2 id="strategy">Strategy for migration</h2>

  <p>Migrating your payment flow can be daunting. It is safe to incrementally adopt the Payment Intents API and use it in parallel with the Charges API. To this end, you can split up the migration into the following steps:</p>

  <ol>
  <li><a href="migration.html#api-version">Update your API version and your client library</a>.</li>
  <li>If applicable, <a href="migration/charges.html">migrate code that reads from Charge properties</a> so that you have a consistent read path between charges created by the Charges API and charges created by the Payment Intents API. This ensures a read-side integration that works for both your old and new payments integrations.</li>
  <li>Migrate your existing Charges API integration on <a href="migration.html#web">Web</a>, <a href="quickstart.html#ios">iOS</a>, and <a href="quickstart.html#android">Android</a> to use the Payment Intents API.</li>
  <li>Migrate your integration that <a href="migration.html#saved-cards">saves cards on Customer objects</a>.</li>
  <li><a href="../../testing.html#regulatory-cards">Test with regulatory test cards</a> to ensure your upgraded integration handles authentication correctly.</li>
</ol>
</section>

<section>
  <a id="update-your-api-version-and-your-client-library" name="//apple_ref/cpp/Section/Update%20your%20API%20version%20and%20your%20client%20library" class="dashAnchor"></a><h2 id="api-version">Update your API version and your client library</h2>

  <p>While the Payment Intents API works on all API versions, we recommend that you <a href="../../upgrades.html#how-can-i-upgrade-my-api">upgrade to the latest API version</a>. If you decide to use an API version older than <a href="../../upgrades.html#2019-02-11">2019-02-11</a>, note the following two changes as you go through the code examples:</p>

  <ul>
  <li><code>requires_source</code> has been renamed to <code>requires_payment_method</code></li>
  <li><code>requires_source_action</code> has been renamed to <code>requires_action</code></li>
</ul>

  <p>In addition, if you use one of our <a href="../../libraries.html">Client libraries</a>, upgrade to the latest version of the library in order to use the Payment Intents API.</p>
</section>
<section>

<a id="migrate-your-one-time-payment-flows" name="//apple_ref/cpp/Section/Migrate%20your%20one-time%20payment%20flows" class="dashAnchor"></a><h2 id="web">Migrate your one-time payment flows</h2>


<div class="tabs tabs-regular  animated persists" data-save-url="true" data-group="web_migration">
    
      <nav class="nav-tabs">
      
        <a>Elements</a>
        <a>Payment Request Button</a>
        <a>Legacy Checkout</a>
        <a>Stripe.js v2</a>
  </nav>
  <div class="tabs-content">
    
<div class="tabs-tab" id="elements"><p>An integration built with Stripe.js &amp; Elements consists of the following steps:</p>

<ol>
  <li>Register your intent to collect payment on the server side</li>
  <li>Collect payment details on the client side</li>
  <li>Initiate creation of the payment</li>
  <li>Fulfill the customer&rsquo;s order on the server side</li>
</ol>
<h4 id="elements-step-1"><span class="step">Step 1:</span> Register intent to collect payment on the server side</h4>
<p><a href="creating-payment-intents.html">Create a PaymentIntent</a> on your server and make it <a href="creating-payment-intents.html#passing-to-client">accessible on the client side</a>.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/payment_intents \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>Stripe::PaymentIntent.create({
    amount: 1099,
    currency: 'usd',
})</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.PaymentIntent.create(
  amount=1099,
  currency='usd'
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$intent = \Stripe\PaymentIntent::create([
    'amount' =&gt; 1099,
    'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("amount", 1099);
params.put("currency", "usd");

PaymentIntent.create(params);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const paymentIntent = await stripe.paymentIntents.create({
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentIntentParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
}
intent, err := paymentintent.New(params)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentIntentService();
var options = new PaymentIntentCreateOptions
{
    Amount = 1099,
    Currency = "usd",
};
var paymentIntent = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="elements-step-2"><span class="step">Step 2:</span> Collect payment details on the client side</h4>

<p>Use the <a href="../../stripe-js/reference.html#stripe-confirm-card-payment">confirmCardPayment</a> function, which collects the payment information and submits it directly to Stripe.</p>  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="javascript">
          JavaScript</a>
        
        <a data-language="javascript_esnext">
          JavaScript (ESNext)</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.createToken(
  cardElement
).then(function(token) {
  // Send token to server
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.confirmCardPayment(
  INTENT_SECRET_FROM_STEP_1,
  {
    payment_method: {card: cardElement}
  }
).then(function(result) {
  if (result.error) {
    // Display error.message in your UI.
  } else {
    // The payment has succeeded
    // Display a success message
  }
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {token} =
  await stripe.createToken(
    cardElement
  );
// Send token to server</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {paymentIntent, error} =
  await stripe.confirmCardPayment(
    INTENT_SECRET_FROM_STEP_1,
    {
      payment_method: {card: cardElement}
    }
  );
if (error) {
  // Display error.message in your UI.
} else {
  // The payment has succeeded
  // Display a success message
}</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<h4 id="elements-step-3"><span class="step">Step 3:</span> Initiate creation of the payment</h4>

<p>In your existing integration, the final step is using tokenized payment information to create a charge on your server. This is no longer necessary, as the <code>confirmCardPayment</code> function&mdash;called in the previous step&mdash;initiates creation of the charge.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/charges \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d source="{{FROM_PREVIOUS_STEP}}" \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>charge = Stripe::Charge.create(
  source: '{{FROM_PREVIOUS_STEP}}',
  amount: 1099,
  currency: 'usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>charge = stripe.Charge.create(
  source='{{FROM_PREVIOUS_STEP}}',
  amount=1099,
  currency='usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$charge = \Stripe\Charge::create([
  'source' =&gt; '{{FROM_PREVIOUS_STEP}}',
  'amount' =&gt; 1099,
  'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
params.put("source", "{{FROM_PREVIOUS_STEP}}");
params.put("amount", 1099);
params.put("currency", "usd");
Charge charge = Charge.create(params);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const charge = await stripe.charges.create({
  source: '{{FROM_PREVIOUS_STEP}}',
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.ChargeParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
}
params.SetSource("{{FROM_PREVIOUS_STEP}}")
ch, _ := charge.New(params)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var options = new ChargeCreateOptions
{
    Source = "{{FROM_PREVIOUS_STEP}}",
    Amount = 1099,
    Currency = "usd",
};
var service = new ChargeService();
Charge charge = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="elements-step-4"><span class="step">Step 4:</span> Fulfill the customer&rsquo;s order</h4>

<p>With automatic confirmation, the charge is created for you asynchronously based on customer action on the client side, so you must <a href="verifying-status.html">monitor webhooks</a> to determine when the payment completes successfully. To perform steps like order fulfillment after a customer&rsquo;s payment is successful, implement support for webhooks and monitor the <code>payment_intent.succeeded</code> event.</p><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>If charge succeeds, fulfill.</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <p>Subscribe to the <code>payment_intent.succeeded</code> webhook and fulfill in the webhook handler.</p>
      </div>
    </div>
  </div>
</div>

<p>Now that you have migrated, use the test cards in the following section to verify your upgraded integration handles 3D Secure authentication.</p>

</div>
<div class="tabs-tab" id="payment-request-button">
<p>The Stripe.js <a href="../../stripe-js/elements/payment-request-button.html">Payment Request Button</a> works with the Payment Intents API by using the token obtained in a traditional PaymentRequest integration and attaching it to a PaymentIntent.</p>

<p>An integration built with PaymentRequest consists of the following steps:</p>

<ol>
  <li>Register your intent to collect payment on the server side</li>
  <li>Collect payment details on the client side</li>
  <li>Initiate creation of the payment</li>
  <li>Fulfill the customer&rsquo;s order on the server side</li>
</ol>
<h4 id="payment-request-step-1"><span class="step">Step 1:</span> Register intent to collect payment on the server side</h4>
<p><a href="creating-payment-intents.html">Create a PaymentIntent</a> on your server and make it <a href="creating-payment-intents.html#passing-to-client">accessible on the client side</a>.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/payment_intents \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>Stripe::PaymentIntent.create({
    amount: 1099,
    currency: 'usd',
})</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.PaymentIntent.create(
  amount=1099,
  currency='usd'
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$intent = \Stripe\PaymentIntent::create([
    'amount' =&gt; 1099,
    'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("amount", 1099);
params.put("currency", "usd");

PaymentIntent.create(params);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const paymentIntent = await stripe.paymentIntents.create({
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentIntentParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
}
intent, err := paymentintent.New(params)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentIntentService();
var options = new PaymentIntentCreateOptions
{
    Amount = 1099,
    Currency = "usd",
};
var paymentIntent = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="payment-request-step-2"><span class="step">Step 2:</span> Collect payment details on the client side</h4>

<p>Listen for the <code>PaymentRequest</code> object&rsquo;s <code>token</code> event, which provides a token and a callback function that you can use to indicate when the payment process is complete.</p>

<p>To adapt this integration to support the Payment Intents API, use the <a href="../../stripe-js/reference.html#stripe-confirm-card-payment">confirmCardPayment</a> function and pass it the token ID instead of sending the token to your server. When the promise returned by the <code>confirmCardPayment</code> function resolves, invoke the completion callback.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="javascript">
          JavaScript</a>
        
        <a data-language="javascript_esnext">
          JavaScript (ESNext)</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>paymentRequest.on(
  'token',
  function(ev) {
    // Send the token to the server

    // Complete with 'fail' and show error if error:
    ev.complete('fail');

    // Complete with 'success' if success
    ev.complete('success');
});
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>paymentRequest.on(
  'paymentmethod',
  function(ev) {
    // First, confirm the PaymentIntent without handling potential
    // next actions to see if there are any payment errors.
    stripe.confirmCardPayment(
      INTENT_SECRET_FROM_STEP_1,
      {payment_method: ev.paymentMethod.id},
      {handleActions: false}
    ).then(function(confirmResult) {
      if (confirmResult.error) {
        // Complete with 'fail' and show error:
        ev.complete('fail');
      } else {
        // Otherwise, close the Payment Request
        // modal and call confirmCardPayment again
        // to complete any potential actions
        // required.
        ev.complete('success');

        stripe.confirmCardPayment(INTENT_SECRET_FROM_STEP_1).then(function(result) {
          if (result.error) {
            // Handle payment error, if any.
          }
        });
      }
    });
  }
);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>paymentRequest.on(
  'token',
  ({token, complete}) =&gt; {
    // Send the token to the server

    // Complete with 'fail' and show error if error:
    complete('fail');

    // Complete with 'success' if success
    complete('success');
});
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>paymentRequest.on(
  'paymentmethod',
  async ({paymentMethod, complete}) =&gt; {
    // First, confirm the PaymentIntent without handling potential
    // next actions to see if there are any payment errors.
    const {error: confirmError} =
      await stripe.confirmCardPayment(
        INTENT_SECRET_FROM_STEP_1,
        {payment_method: ev.paymentMethod.id},
        {handleActions: false}
      );

    if (confirmError) {
      // Complete with 'fail' and show error:
      complete('fail');
    } else {
      // Otherwise, close the Payment Request
      // modal and call confirmCardPayment again
      // to complete any potential actions
      // required.
      complete('success');
      const {error, paymentIntent} =
        await stripe.confirmCardPayment(
          INTENT_SECRET_FROM_STEP_1,
        );

      // Handle payment error, if any.
    }
  }
);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<h4 id="payment-request-step-3"><span class="step">Step 3:</span> Initiate creation of the payment</h4>

<p>In your existing integration, the final step is using tokenized payment information to create a charge on your server. This is no longer necessary, as the <code>confirmCardPayment</code> function&mdash;called in the previous step&mdash;initiates creation of the charge.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/charges \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d source="{{FROM_PREVIOUS_STEP}}" \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>charge = Stripe::Charge.create(
  source: '{{FROM_PREVIOUS_STEP}}',
  amount: 1099,
  currency: 'usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>charge = stripe.Charge.create(
  source='{{FROM_PREVIOUS_STEP}}',
  amount=1099,
  currency='usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$charge = \Stripe\Charge::create([
  'source' =&gt; '{{FROM_PREVIOUS_STEP}}',
  'amount' =&gt; 1099,
  'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
params.put("source", "{{FROM_PREVIOUS_STEP}}");
params.put("amount", 1099);
params.put("currency", "usd");
Charge charge = Charge.create(params);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const charge = await stripe.charges.create({
  source: '{{FROM_PREVIOUS_STEP}}',
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.ChargeParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
}
params.SetSource("{{FROM_PREVIOUS_STEP}}")
ch, _ := charge.New(params)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var options = new ChargeCreateOptions
{
    Source = "{{FROM_PREVIOUS_STEP}}",
    Amount = 1099,
    Currency = "usd",
};
var service = new ChargeService();
Charge charge = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="payment-request-step-4"><span class="step">Step 4:</span> Fulfill the customer&rsquo;s order</h4>

<p>With automatic confirmation, the charge is created for you asynchronously based on customer action on the client side, so you must <a href="verifying-status.html">monitor webhooks</a> to determine when the payment completes successfully. To perform steps like order fulfillment after a customer&rsquo;s payment is successful, implement support for webhooks and monitor the <code>payment_intent.succeeded</code> event.</p><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>If charge succeeds, fulfill.</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <p>Subscribe to the <code>payment_intent.succeeded</code> webhook and fulfill in the webhook handler.</p>
      </div>
    </div>
  </div>
</div>

<p>Now that you have migrated, use the test cards in the following section to verify your upgraded integration handles 3D Secure authentication.</p>

</div>
<div class="tabs-tab" id="legacy-checkout">
<p>If you&rsquo;re using the legacy version of Checkout, upgrade to the <a href="../../checkout.html">new version of Checkout</a>&mdash;the fastest way to accept payments with Stripe. With it, you can accept one-time payments and subscriptions. You can also use Checkout without using the Stripe API on your server. Follow the <a href="../checkout/migration.html">Checkout migration guide</a> to migrate your existing integration.</p>

<p>If you prefer to build your own checkout flow instead, switch to <a href="../../stripe-js.html">Elements</a>. Assuming you have upgraded to Elements, you can build a Payment Intents API integration using the <a href="migration.html#elements">Elements migration guide</a>.</p>

<p>To support <a href="../../strong-customer-authentication.html">Strong Customer Authentication</a> (SCA) without updating how you collect payment details, follow the <a href="migration-synchronous.html#legacy-checkout">manual confirmation migration guide</a>.</p>
</div>
<div class="tabs-tab" id="stripe-js-v2">
<p>In order to upgrade an existing Stripe.js v2 integration to use the Payment Intents API, first <a href="../../stripe-js/elements/migrating.html">update your integration</a> to collect payment information with Elements. Elements provides prebuilt UI components and offers simple <a href="../../security.html#validating-pci-compliance">PCI compliance</a> with SAQ A reporting.</p>

<p>After you have upgraded to Elements, you can build a Payment Intents API integration using the <a href="migration.html#elements">Elements migration guide</a>.</p>

<p>To support <a href="../../strong-customer-authentication.html">Strong Customer Authentication</a> (SCA) without updating how you collect payment details, follow the <a href="migration-synchronous.html#stripe-js-v2">manual confirmation migration guide</a>.</p>
</div>

  </div>
</div>

</section>

<section>
<a id="migrate-your-integration-that-saves-cards-on-customer-objects" name="//apple_ref/cpp/Section/Migrate%20your%20integration%20that%20saves%20cards%20on%20Customer%20objects" class="dashAnchor"></a><h2 id="saved-cards">Migrate your integration that saves cards on Customer objects</h2>

<div class="tabs tabs-regular  animated persists" data-save-url="true" data-group="charges_cards_migration">
    
      <nav class="nav-tabs">
      
        <a>Saving cards in checkout flow</a>
        <a>Saving cards outside checkout flow</a>
        <a>Paying with saved cards</a>
  </nav>
  <div class="tabs-content">
    
<div class="tabs-tab" id="saving-cards-checkout"><p>A Payment Intents API integration that collects card information in the checkout flow consists of the following steps:</p>

<ol>
  <li>Register your intent to collect payment on the server side</li>
  <li>Collect payment details on the client side</li>
  <li>Initiate creation of the payment</li>
  <li>Fulfill the customer&rsquo;s order on the server side</li>
</ol>
<h4 id="saving-cards-checkout-step-1"><span class="step">Step 1:</span> Register intent to collect payment on the server side</h4>
<p><a href="creating-payment-intents.html">Create a PaymentIntent</a> on your server.
Set <a href="../../api/payment_intents/create.html#create_payment_intent-setup_future_usage">setup_future_usage</a> to <code>off_session</code> if you primarily intend to charge users when they are outside of your application, or <code>on_session</code> if you plan to charge them in the application. If you plan to use the card for both on and off session payments use <code>off_session</code>. Providing the <code>setup_future_usage</code> parameter along with a Customer ID will save the resulting PaymentMethod to that Customer after the PaymentIntent has been confirmed and any required actions from the customer are complete.
Next, make the PaymentIntent <a href="creating-payment-intents.html#passing-to-client">accessible on the client side</a>.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/payment_intents \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d setup_future_usage=off_session \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>Stripe::PaymentIntent.create({
    setup_future_usage: 'off_session',
    amount: 1099,
    currency: 'usd',
})</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.PaymentIntent.create(
  setup_future_usage='off_session',
  amount=1099,
  currency='usd'
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$intent = \Stripe\PaymentIntent::create([
    'setup_future_usage' =&gt; 'off_session',
    'amount' =&gt; 1099,
    'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("setup_future_usage", "off_session");
params.put("amount", 1099);
params.put("currency", "usd");

PaymentIntent.create(params);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const paymentIntent = await stripe.paymentIntents.create({
  setup_future_usage: 'off_session',
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentIntentParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  SetupFutureUsage: stripe.String(string(stripe.PaymentIntentSetupFutureUsageOffSession)),
}
intent, err := paymentintent.New(params)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>Not possible before</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentIntentService();
var options = new PaymentIntentCreateOptions
{
    Amount = 1099,
    SetupFutureUsage = "off_session",
    Currency = "usd",
};
var paymentIntent = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="saving-cards-checkout-step-2"><span class="step">Step 2:</span> Collect payment details on the client side</h4>

<p>Use the <a href="../../stripe-js/reference.html#stripe-confirm-card-payment">confirmCardPayment</a> function, which collects the payment information and submits it directly to Stripe.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="javascript">
          JavaScript</a>
        
        <a data-language="javascript_esnext">
          JavaScript (ESNext)</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.createToken(
// or stripe.createSource
  cardElement
).then(function(token) {
  // Send token to server
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.confirmCardPayment(
  '{{INTENT_SECRET_FROM_STEP_1}}',
  {
    payment_method: {card: cardElement},
  }
).then(function(result) {
  if (result.error) {
    // Display error.message in your UI.
  } else {
    // The payment has succeeded
    // Display a success message
  }
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {token} =
  await stripe.createToken(
  // or stripe.createSource
    cardElement
  );
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {paymentIntent, error} =
  await stripe.confirmCardPayment(
    '{{INTENT_SECRET_FROM_STEP_1}}',
    {
      payment_method: {card: cardElement},
    }
  );
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<p>Finally, attach the payment method (<code>paymentIntent.payment_method</code>) to the customer.</p>  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/customers/{{CUSTOMER_ID}}/sources \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d source="{{TOKEN_OR_SOURCE}}"
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/payment_method/{{PAYMENT_METHOD_ID}}/attach \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d customer="{{CUSTOMER_ID}}"
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>card = Stripe::Customer.create_source(
  '{{CUSTOMER_ID}}',
  {
    source: '{{TOKEN_OR_SOURCE}}',
  }
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>payment_method = Stripe::PaymentMethod.attach(
  '{{PAYMENT_METHOD_ID}}',
  {
    customer: '{{CUSTOMER_ID}}',
  }
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.Customer.create_source(
  '{{CUSTOMER_ID}}',
  source='{{TOKEN_OR_SOURCE}}',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>payment_method = stripe.PaymentMethod.attach(
  '{{PAYMENT_METHOD_ID}}',
  customer='{{CUSTOMER_ID}}',
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$card = \Stripe\Customer::createSource(
  '{{CUSTOMER_ID}}',
  [
    'source' =&gt; '{{TOKEN_OR_SOURCE}}',
  ]
);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$payment_method = \Stripe\PaymentMethod::retrieve('{{PAYMENT_METHOD_ID}}');
$payment_method-&gt;attach(['customer' =&gt; '{{CUSTOMER_ID}}']);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Customer customer = Customer.retrieve("{{CUSTOMER_ID}}");
Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("source", "{{TOKEN_OR_SOURCE}}");
customer.getSources().create(params);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>PaymentMethod paymentMethod = PaymentMethod.retrieve("{{PAYMENT_METHOD_ID}}");

PaymentMethodAttachParams params =
  PaymentMethodAttachParams.builder()
    .setCustomer("{{CUSTOMER_ID}}")
    .build();

paymentMethod.attach(params);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const card = await stripe.customers.createSource(
  '{{CUSTOMER_ID}}',
  {
    source: '{{TOKEN_OR_SOURCE}}',
  }
);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const card = await stripe.paymentMethods.attach(
  '{{PAYMENT_METHOD_ID}}',
  {
    customer: '{{CUSTOMER_ID}}',
  }
);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.CardParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Token: stripe.String("{{TOKEN_OR_SOURCE}}"),
}
c, _ := card.New(params)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentMethodAttachParams{
  Customer: "{{CUSTOMER_ID}}",
}
p, _ := paymentmethod.Attach("{{PAYMENT_METHOD_ID}}", params)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var options = new CardCreateOptions
{
    Source = "{{TOKEN_OR_SOURCE}}",
};
var service = new CardService();
var card = service.Create("{{CUSTOMER_ID}}", options);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentMethodService();
var options = new PaymentMethodAttachOptions
{
  Customer = "{{CUSTOMER_ID}}",
};
var paymentMethod = service.Attach("{{PAYMENT_METHOD_ID}}", options);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<h4 id="saving-cards-checkout-step-3"><span class="step">Step 3:</span> Initiate creation of the payment</h4>

<p>In your existing integration, the final step is using tokenized payment information to create a charge on your server. This is no longer necessary, as the <code>confirmCardPayment</code> function&mdash;called in the previous step&mdash;initiates creation of the charge.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/charges \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d source="{{FROM_PREVIOUS_STEP}}" \
  -d customer="{{CUSTOMER_ID}}" \
  -d amount=1099 \
  -d currency=usd
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>charge = Stripe::Charge.create(
  source: '{{FROM_PREVIOUS_STEP}}',
  customer: '{{CUSTOMER_ID}}',
  amount: 1099,
  currency: 'usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>charge = stripe.Charge.create(
  source='{{FROM_PREVIOUS_STEP}}',
  customer='{{CUSTOMER_ID}}',
  amount=1099,
  currency='usd',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$charge = \Stripe\Charge::create([
  'source' =&gt; '{{FROM_PREVIOUS_STEP}}',
  'customer' =&gt; '{{CUSTOMER_ID}}',
  'amount' =&gt; 1099,
  'currency' =&gt; 'usd',
]);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
params.put("source", "{{FROM_PREVIOUS_STEP}}");
params.put("customer", "{{CUSTOMER_ID}}");
params.put("amount", 1099);
params.put("currency", "usd");
Charge charge = Charge.create(params);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const charge = await stripe.charges.create({
  source: '{{FROM_PREVIOUS_STEP}}',
  customer: '{{CUSTOMER_ID}}',
  amount: 1099,
  currency: 'usd',
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.ChargeParams{
  Amount: stripe.Int64(1099),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
}
params.SetSource("{{FROM_PREVIOUS_STEP}}")
params.SetCustomer("{{CUSTOMER_ID}}")
ch, _ := charge.New(params)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var options = new ChargeCreateOptions
{
    Source = "{{FROM_PREVIOUS_STEP}}",
    Customer = "{{CUSTOMER_ID}}",
    Amount = 1099,
    Currency = "usd",
};
var service = new ChargeService();
Charge charge = service.Create(options);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
              <p>Completed in previous step</p>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


<h4 id="saving-cards-checkout-step-4"><span class="step">Step 4:</span> Fulfill the customer&rsquo;s order</h4>

<p>With automatic confirmation, the charge is created for you asynchronously based on customer action on the client side, so you must <a href="verifying-status.html">monitor webhooks</a> to determine when the payment completes successfully. To perform steps like order fulfillment after a customer&rsquo;s payment is successful, implement support for webhooks and monitor the <code>payment_intent.succeeded</code> event.</p><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>If charge succeeds, fulfill.</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <p>Subscribe to the <code>payment_intent.succeeded</code> webhook and fulfill in the webhook handler.</p>
      </div>
    </div>
  </div>
</div>

<p>Now that you have migrated, use the test cards in the following section to verify your upgraded integration handles 3D Secure authentication.</p>

</div>
<div class="tabs-tab" id="saving-cards">
<p>There are a couple of changes you will need to make to your existing integration that saves card details outside of a checkout flow. First, create a <a href="../../api/setup_intents.html">SetupIntent</a> on your server. A SetupIntent authenticates the card without making an initial payment.</p>

  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        
<p>No server code previously required</p>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/setup_intents/ \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -X POST
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>setup_intent = Stripe::SetupIntent.create
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>setup_intent = stripe.SetupIntent.create()
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$setupIntent = \Stripe\SetupIntent::create();
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>SetupIntent.create();</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const intent = await stripe.setupIntents.create();</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>intent, err = setupintent.New(params)
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <p>No server code previously required</p>
      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new SetupIntentService();
var setupIntent = service.Create(null);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<p>Pass the SetupIntent&rsquo;s <a href="../../api/payment_intents/object.html#setup_intent_object-client_secret">client secret</a> to your client and use the <a href="../../stripe-js/reference.html#stripe-confirm-card-setup">confirmCardSetup</a> function instead of <a href="../../stripe-js/reference.html#stripe-create-token">createToken</a> or <a href="../../stripe-js/reference.html#stripe-create-source">createSource</a> after your customer enters their card details.</p>

<p>If required by regulation, <a href="../../stripe-js/reference.html#stripe-confirm-card-setup">confirmCardSetup</a> will prompt the user to authenticate the card.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="javascript">
          JavaScript</a>
        
        <a data-language="javascript_esnext">
          JavaScript (ESNext)</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.createToken(
// or stripe.createSource
  cardElement,
  {
    name: cardholderName.value,
  }
).then(function(token) {
  // Send token to server
});</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.confirmCardSetup(
  clientSecret,
  {
    payment_method: {
      card: cardElement,
      billing_details: {name: cardholderName.value}
    }
  }
).then(function(result) {
  if (result.error) {
    // Display error.message in your UI.
  } else {
    // The SetupIntent was successful!
  }
});</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {token} =
  await stripe.createToken(
  // or stripe.createSource
    cardElement,
    {
      name: cardholderName.value,
    }
  );</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="javascript_esnext">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const {setupIntent, error} =
  await stripe.confirmCardSetup(
    clientSecret,
    {
      payment_method: {
        card: cardElement,
        billing_details: {name: cardholderName.value}
      }
    }
  );

if (error) {
  // Display error.message in your UI.
} else {
  // The SetupIntent was successful!
}</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

<p>When <a href="../../stripe-js/reference.html#stripe-confirm-card-setup">confirmCardSetup</a> succeeds, <code>setupIntent.payment_method</code> will contain a <a href="../../api/payment_methods/object.html">PaymentMethod</a> that you can attach to a Customer.</p>

<p>Pass the ID of that PaymentMethod to your server, and <a href="../../api/payment_methods/attach.html">attach the payment method</a> to the Customer object using the Payment Methods API instead of the Customers API.</p>  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/customers/{{CUSTOMER_ID}}/sources \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d source="{{TOKEN_FROM_STEP_1}}"
</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl https://api.stripe.com/v1/payment_methods/{{PAYMENT_METHOD_ID}}/attach \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc: \
  -d customer="{{CUSTOMER_ID}}"
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>card = Stripe::Customer.create_source(
  '{{CUSTOMER_ID}}',
  {
    source: '{{TOKEN_FROM_STEP_1}}',
  }
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>Stripe::PaymentMethod.attach(
  '{{PAYMENT_METHOD_ID}}',
  {
    customer: '{{CUSTOMER_ID}}',
  }
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.Customer.create_source(
  '{{CUSTOMER_ID}}',
  source='{{TOKEN_FROM_STEP_1}}',
)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>payment_method = stripe.PaymentMethod.attach(
  '{{PAYMENT_METHOD_ID}}',
  customer='{{CUSTOMER_ID}}',
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$card = \Stripe\Customer::createSource(
  '{{CUSTOMER_ID}}',
  [
    'source' =&gt; '{{TOKEN_FROM_STEP_1}}',
  ]
);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>$payment_method = \Stripe\PaymentMethod::retrieve('{{PAYMENT_METHOD_ID}}');
$payment_method-&gt;attach(['customer' =&gt; '{{CUSTOMER_ID}}']);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Customer customer = Customer.retrieve("{{CUSTOMER_ID}}");
Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("source", "{{TOKEN_FROM_STEP_1}}");
customer.getSources().create(params);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>PaymentMethod paymentMethod = PaymentMethod.retrieve("{{PAYMENT_METHOD_ID}}");
Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
params.put("customer", "{{CUSTOMER_ID}}");
paymentMethod.attach(params);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.customers.createSource(
  '{{CUSTOMER_ID}}',
  {source: '{{TOKEN_FROM_STEP_1}}',},
  function(err, card) {
    // asynchronously called
  }
);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>stripe.paymentMethods.attach(
  '{{PAYMENT_METHOD_ID}}',
  {customer: '{{CUSTOMER_ID}}'},
  function(err, paymentMethod) {
    // asynchronously called
  }
);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.CardParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Token: stripe.String("{{TOKEN_FROM_STEP_1}}"),
}
c, err := card.New(params)</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentMethodAttachParams{
  Customer: "{{CUSTOMER_ID}}",
}
p, err := paymentmethod.Attach("{{PAYMENT_METHOD_ID}}", params)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var options = new CardCreateOptions
{
    Source = "{{TOKEN_FROM_STEP_1}}"
};
var service = new CardService();
var card = service.Create("{{CUSTOMER_ID}}", options);</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentMethodService();
var options = new PaymentMethodAttachOptions
{
    Customer = "{{CUSTOMER_ID}}",
};
var paymentMethod = service.Attach("{{PAYMENT_METHOD_ID}}", options);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>


</div>
<div class="tabs-tab" id="paying-saved-cards"><p>When paying with a previously saved payment method, you must specify both the ID of the Customer and the ID of the previously saved Card, Source, or PaymentMethod. Previously, the default source on the customer is used if one was not provided. You must now explicitly pass in the desired payment method.</p>

<p>If the customer is <span class="tooltip-wrapper"><span class="tooltip-content definition"><a href="../save-and-reuse.html#web-create-payment-intent-off-session">off-session</a></span><template class="tooltip"><span class="definition">A payment is described as <em>off-session</em> if it occurs without the direct involvement of the customer, using previously-collected payment information.</span></template></span>, you must flag the payment as an off-session payment. See <a href="../save-and-reuse.html#web-create-payment-intent-off-session">Charging Saved Cards</a> for more information.</p></div>

  </div>
</div>

</section>

<section>
<a id="access-saved-payment-methods" name="//apple_ref/cpp/Section/Access%20saved%20payment%20methods" class="dashAnchor"></a><h2 id="access-payment-methods">Access saved payment methods</h2>

<p>To display the customer&rsquo;s previously saved Cards, Sources, and PaymentMethods, <a href="../../api/payment_methods/list.html">list the payment methods</a> instead of reading the <a href="../../api/customers/object.html#customer_object-sources">sources</a> property of the customer object. This is required because new PaymentMethods added to a customer will not be duplicated in the sources property of the customer object.</p>
  <div class="tabs tabs-code animated before-after-table">
    <nav class="nav-languages">
        <a data-language="curl">
          curl</a>
        
        <a data-language="ruby">
          Ruby</a>
        
        <a data-language="python">
          Python</a>
        
        <a data-language="php">
          PHP</a>
        
        <a data-language="java">
          Java</a>
        
        <a data-language="node">
          Node</a>
        
        <a data-language="go">
          Go</a>
        
        <a data-language="dotnet">
          .NET</a>
        
    </nav>
    <div class="tabs-content">
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="curl">
  <pre class="language-curl not-numbered"><div class="file-content-wrapper"><code>curl "https://api.stripe.com/v1/payment_methods?customer={{CUSTOMER_ID}}&amp;type=card" \
  -u sk_test_4eC39HqLyjWDarjtT1zdp7dc:
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="ruby">
  <pre class="language-ruby not-numbered"><div class="file-content-wrapper"><code>Stripe::PaymentMethod.list({
    type: 'card',
    customer: '{{CUSTOMER_ID}}',
})</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="python">
  <pre class="language-python not-numbered"><div class="file-content-wrapper"><code>stripe.PaymentMethod.list(
  customer='{{CUSTOMER_ID}}',
  type='card'
)</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>customer-&gt;sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="php">
  <pre class="language-php not-numbered"><div class="file-content-wrapper"><code>\Stripe\PaymentMethod::all(['customer' =&gt; '{{CUSTOMER_ID}}', 'type' =&gt; 'card']);</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="java">
  <pre class="language-java not-numbered"><div class="file-content-wrapper"><code>Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
paymentmethodParams.put("customer", "{{CUSTOMER_ID}}");
paymentmethodParams.put("type", "card");

PaymentMethod.list(params);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="node">
  <pre class="language-javascript not-numbered"><div class="file-content-wrapper"><code>const paymentMethods = await stripe.paymentMethods.list(
  { customer: '{{CUSTOMER_ID}}', type: 'card' }
);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>customer.sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="go">
  <pre class="language-go not-numbered"><div class="file-content-wrapper"><code>params := &amp;stripe.PaymentMethodListParams{
  Customer: stripe.String("{{CUSTOMER_ID}}"),
  Type: stripe.String(string(stripe.PaymentMethodTypeCard)),
}
i := paymentmethod.List(params)
for i.Next() {
  p := i.PaymentMethod()
}
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
        <div class="tabs-tab"><div class="code-diff">
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-heading">Before</div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-heading">After</div>
    </div>
  </div>
  <div class="code-diff-container">
    <div class="code-diff-before">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>customer.Sources</code></div></pre>

</div>

      </div>
    </div>
    <div class="code-diff-after">
      <div class="code-diff-code-wrapper">
        <div class="code" data-language="dotnet">
  <pre class="language-dotnet not-numbered"><div class="file-content-wrapper"><code>var service = new PaymentMethodService();
var options = new PaymentMethodListOptions
{
    Customer = "{{CUSTOMER_ID}}",
    Limit = 3,
    Type = "card"
};
var paymentMethods = service.List(options);
</code></div></pre>

</div>

      </div>
    </div>
  </div>
</div>
</div>
    </div>
  </div>

</section>

<section>
  <a id="test-the-integration" name="//apple_ref/cpp/Section/Test%20the%20integration" class="dashAnchor"></a><h2 id="testing">Test the integration</h2>

  <p>It&rsquo;s important to thoroughly test your integration to make sure you&rsquo;re correctly handling cards that require additional authentication and cards that don&rsquo;t. Use these card numbers in <a href="../../keys.html#test-live-modes">test mode</a> with any expiration date in the future and any three digit CVC code to validate your integration when authentication is required and when it&rsquo;s not required.</p>

  <table class="alternate">
  <thead>
    <tr>
      <th>Number</th>
      <th>Authentication</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="card-number">4000<span></span>0025<span></span>0000<span></span>3155</td>
      <td>Required on setup or first transaction</td>
      <td>
        This test card requires authentication for <a href="quickstart.html#web">one-time payments</a>. However, if you set up this card using the <a href="../save-and-reuse.html">Setup Intents API</a> and use the saved card for subsequent payments, no further authentication is needed.
      </td>
    </tr>
    <tr>
      <td class="card-number">4000<span></span>0027<span></span>6000<span></span>3184</td>
      <td>Required</td>
      <td>
        This test card requires authentication on all transactions.
      </td>
    </tr>
    <tr>
      <td class="card-number">4000<span></span>0082<span></span>6000<span></span>3178</td>
      <td>Required</td>
      <td>
        This test card requires authentication, but payments will be declined with an <code>insufficient_funds</code> failure code after successful authentication.
      </td>
    </tr>
    <tr>
      <td class="card-number">4000<span></span>0000<span></span>0000<span></span>3055</td>
      <td>Supported</td>
      <td>
        This test card supports authentication via 3D Secure 2, but does not require it. Payments using this card do not require additional authentication in test mode unless your <a href="../3d-secure.html#three-ds-radar">test mode Radar rules</a> request authentication.
      </td>
    </tr>
  </tbody>
</table>

  <p>Use these cards in your application or the <a href="https://stripe-payments-demo.appspot.com">payments demo</a> to see the different behavior.</p>

</section>

<section>
<a id="next-steps" name="//apple_ref/cpp/Section/Next%20steps" class="dashAnchor"></a><h2 id="next-steps">Next steps</h2>

<p>Now you have all the information you need to begin migrating an existing Stripe integration to the Payment Intents API with automatic confirmation. To learn more, continue reading:</p>

<ul class="next-steps">
    <li><a href="quickstart.html#ios"><span>Payment Intents on iOS</span></a></li>
    <li><a href="quickstart.html#android"><span>Payment Intents on Android</span></a></li>
</ul>
</section>

  <section class="csat">
  <span data-csat-step="poll" class="csat-widget">
    
    <h4 class="csat-widget-cta" data-no-anchor>Was this page helpful?</h4>
    <button data-csat-poll="yes" class="csat-button csat-button-yes common-Button">Yes</button>
    <button data-csat-poll="no" class="csat-button csat-button-no common-Button">No</button>
  </span>

  <div data-csat-step="input" class="csat-widget">
    <div class="csat-input">
      <span id="csat-input-prompt">Feedback about this page?</span>
      <input id="csat-input-text" placeholder="Feedback about this page?" class="common-Input">
      <button id="csat-input-submit" class="csat-button common-Button">Send</button>
    </div>
  </div>

  <p data-csat-step="reply" class="csat-widget">
    <span class="csat-reply-main">
      Thank you for helping improve Stripe's documentation.
    </span>
    <span class="csat-reply-extended">
      If you need help or have any questions, please consider <a href="https://support.stripe.com/contact">contacting support</a>.
    </span>
  </p>

</section>





            </article>
            <div class="docs-aside" style="display: none;">
              <div class="docs-toc empty">
                <h4>On this page</h4>
                <ul class="docs-toc-list">
                </ul>
              </div>
              <div class="docs-definitions"></div>
            </div>
          </div>
        </div>
        <div class="right-spacer"></div>
      </div>
      <div id="loading-bar"></div>
  
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-v3/external/stickyfill.min-c4628abd129170fdc733.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-external/jquery.min-8a871487f6552205397a.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-clipboard-43d35918025abd2954b0.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-prism-95d192fd615981aca964.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-external/dynamics.min-1d7a9e501c23b51d538d.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-js.cookie-3f4952378dad1304640b.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-documentation-70ad1ecb761625b2103d.min.js"></script>
  <script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-external/algoliasearch-15ba610e0c3d11bd4fa8.min.js"></script>
  <script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-documentation-search-236ec6212a280a940d7b.min.js"></script>
<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/docsApps-1ac17a1b82a22ffe751c.min.js"></script>

<script type="text/javascript" nonce="2qL+LGiyEa6rZHmwvgz4SQ==">  parseKey("sk_test_4eC39HqLyjWDarjtT1zdp7dc", "secret-key", null);
  parseKey("pk_test_TYooMQauvdEDq54NiTphI7jx", "publishable-key", null);
</script>  <script type="text/javascript" src="https://js.stripe.com/v3/"></script>

<script defer src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-v3/shared/collect_email-4800c74c31cb737d05a3.min.js"></script>


  <script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-v3/shared/same-site-fdd20fe544351827462c.min.js"></script>



<script type="application/json" id="site-analytics-config">{&quot;generalAnalyticsConfig&quot;:{&quot;ga&quot;:{},&quot;flags&quot;:{&quot;test_experiment_0&quot;:false,&quot;docs_integration_checkers&quot;:true,&quot;site_role_aware&quot;:false,&quot;site_enriched_contact_sales&quot;:false,&quot;analytics_id_holdback&quot;:false,&quot;merchant_token_holdback&quot;:false,&quot;served_locale&quot;:&quot;en&quot;,&quot;authoring_tool&quot;:&quot;erb&quot;},&quot;locale&quot;:&quot;en&quot;,&quot;treatments&quot;:{&quot;test_experiment_0&quot;:&quot;control&quot;,&quot;docs_integration_checkers&quot;:&quot;treatment&quot;,&quot;site_role_aware&quot;:&quot;control&quot;,&quot;site_enriched_contact_sales&quot;:&quot;control&quot;}},&quot;siteSpecificAnalyticsConfig&quot;:{&quot;pageId&quot;:null,&quot;trackPageViewed&quot;:false,&quot;gtmConfig&quot;:{&quot;event&quot;:&quot;dataLayer-initialized&quot;,&quot;user-id&quot;:null,&quot;account-id&quot;:null,&quot;merchant-id&quot;:null,&quot;user-role&quot;:null,&quot;products-enabled&quot;:null,&quot;page-category&quot;:null,&quot;language&quot;:&quot;en&quot;,&quot;country&quot;:&quot;US&quot;,&quot;signed-in&quot;:false,&quot;signup-type&quot;:null}}}</script>



<!-- Google Tag Manager (noscript) -->

<!-- End Google Tag Manager (noscript) -->


<script src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/site-analytics-ae84926d4539ea217f68.min.js"></script>
<script defer src="../../../../js.stripe.com/internal/v2/analytics.min.js"></script>



<script defer src="../../../../b.stripecdn.com/site-srv/assets/compiled/js/sprockets-js-documentation-analytics-ce2cc3a78e13f61d7b15.min.js"></script>


  </body>
</html>
