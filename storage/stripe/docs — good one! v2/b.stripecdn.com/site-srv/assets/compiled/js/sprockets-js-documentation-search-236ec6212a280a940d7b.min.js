!function(){window.URLSearchParams&&window.location&&new URLSearchParams(window.location.search);var e=algoliasearch("Y4PFTTJ91H","13cb82a358f97cd95f3321f14d6c3e44").initIndex("crawler_stripe-docs-v5"),t=document.querySelector(".search"),n=t.querySelector("input"),i=t.querySelector(".search-text"),r=document.querySelector(".search-results"),s=document.querySelector(".search-after-text--no-results"),o=r.querySelector(".results"),a=!1,c=debounce(f,100),l=0,d=null;const u={js:"js-reference",api:"api-reference"};var h={query:"",selectedIndex:0};function m(){void 0!==window.sessionStorage&&(sessionStorage.setItem("docs-search-query",h.query),sessionStorage.setItem("docs-search-index",h.selectedIndex))}function p(e){if(40===e.keyCode)h.selectedIndex<l-1&&(h.selectedIndex+=1,m(),v()),e.preventDefault();else if(38===e.keyCode)h.selectedIndex>0&&(h.selectedIndex-=1,m(),v()),e.preventDefault();else if(13===e.keyCode){var n=o.querySelector("li.selected a");n&&(t.dispatchEvent(new Event("openSearchResult")),g(),page.openURL(n),e.preventDefault())}}function y(){a||(a=!0,document.addEventListener("keydown",p),overlayController.show(g),r.style.visibility="visible",t.style.width="600px",dynamics.animate(r,{opacity:1},{type:dynamics.easeInOut,friction:350,duration:250}),h.selectedIndex=0,m(),v())}function g(){a&&(a=!1,document.removeEventListener("keydown",p),t.style.width="400px",overlayController.hide(),dynamics.animate(r,{opacity:0},{type:dynamics.easeInOut,duration:250,complete:function(){r.style.visibility="hidden"}}))}function f(t,n){if(t!==d){if(/[0-9-\s]{12,20}/.test(t)||t.indexOf("sk_")>-1)return l=0,void L([]);d=t,e.search(t,{optionalFilters:["tags:docs"],filters:"NOT tags:cli",attributesToHighlight:"hierarchy,content",highlightPreTag:"[h]",highlightPostTag:"[/h]",hitsPerPage:10},function(e,t){if(!e){var i=["recipes","more recipes","next steps","next up","up next"],r=t.hits.map(function(e){for(var t=Object.keys(e._highlightResult.hierarchy).sort(),n="",r="",s=t.length-1;s>0;s--){var o=e._highlightResult.hierarchy[t[s]];o&&(o=o.value),o&&r!==o&&-1===i.indexOf(o.toLowerCase())&&(n.length>0&&(n=" â€º "+n),n=o+n,r=o)}var a=parseURL(e.url);const c={title:n,url:a.pathname+("#content"===a.hash?"":a.hash),content:e._highlightResult.content&&e._highlightResult.content.value,type:"page",declaration:"",tags:e.tags};return c.tags.includes("js")&&e.section_title.match(/\(.*\)/)&&(c.methodSignature=e.section_title),c});n||(h.selectedIndex=0,m()),L(r)}})}}function v(){var e=o.querySelector("li.selected")||o.querySelector("li:first-child");if(e){e.classList.remove("selected"),(e=o.querySelector("li:nth-child("+(h.selectedIndex+1)+")")).classList.add("selected");var t=e.getBoundingClientRect(),n=t.top-12,i=t.top+t.height+12;0===h.selectedIndex?document.body.scrollTop=0:n<0?document.body.scrollTop=document.body.scrollTop+n:i>=window.innerHeight&&(document.body.scrollTop=document.body.scrollTop-(window.innerHeight-i))}}function x(e){"function"==typeof DOMParser&&(e=(new DOMParser).parseFromString(e,"text/html").documentElement.textContent);return e=(e=(e=$("<div/>").text(e).html()).replace(/\[h\]/g,"<em>")).replace(/\[\/h\]/g,"</em>")}function L(e){l=e.length;for(var t=document.createDocumentFragment(),n=0;n<e.length;n++){var i=e[n],r=document.createElement("li");n===h.selectedIndex&&r.classList.add("selected");var a=document.createElement("a");if(i.url.match(/^\/docs(?!\/(api|js))/)||a.classList.add("external"),i.tags&&u[i.tags[0]]&&a.classList.add(u[i.tags[0]]),a.innerHTML=x(i.title),a.href=i.url,a.addEventListener("click",function(e){g(),page.openLink(e)}),r.appendChild(a),i.declaration){var c=document.createElement("div");c.classList.add("tag"),c.classList.add("method"),c.innerText=i.declaration.replace(/http.*\/v1/,"/v1"),r.appendChild(c)}if(i.methodSignature){var d=document.createElement("p");d.innerHTML=i.methodSignature.split(",").join(", "),d.classList.add("method-signature"),r.appendChild(d)}if(i.content){var m=document.createElement("p");m.innerHTML=x(i.content),r.appendChild(m)}t.appendChild(r)}o.innerHTML="",o.appendChild(t),s.style.visibility=0===l?"visible":""}!function(){if(void 0!==window.sessionStorage){var e=sessionStorage.getItem("docs-search-query"),t=sessionStorage.getItem("docs-search-index")||0;e&&(h.query=e,h.selectedIndex=t,n.value=h.query,i.textContent=h.query,f(h.query,!0)),document.addEventListener("keyup",function(e){if((191==e.keyCode||83==e.keyCode)&&!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLSelectElement||document.activeElement instanceof HTMLTextAreaElement))return n.focus(),n.select(),!1})}}(),n.addEventListener("keyup",function(){var e=n.value;h.query!==e&&(h.query=e,i.textContent=e,s.style.visibility="",m(),e.length>0?(y(),c(e)):g())}),n.addEventListener("focus",function(){n.value.length>0&&y(),n.select()}),o.addEventListener("mousedown",function(e){for(var t=e.target;t&&"LI"!==t.tagName;)t=t.parentNode;if(t){var n=t.parentNode.children;n=Array.prototype.slice.call(n,this),h.selectedIndex=n.indexOf(t),m(),v()}})}();